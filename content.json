[{"title":"OpenMediaVaultå®‰è£…","date":"2020-05-21T12:06:00.000Z","path":"2020/05/21/14/","text":"OpenMediaVaultå®‰è£… é¦–å…ˆé…ç½®OpenMediaVaultçš„æºåˆ°Debianä¸­ $ echo â€œdeb http://packages.openmediavault.org/public kralizec mainâ€ &gt; /etc/apt/sources.list.d/openmediavault.list ç„¶åæŠŠOpenMediaVaultè½¯ä»¶ä»“åº“çš„è®¤è¯ä¿¡æ¯é…ç½®åˆ°ç³»ç»Ÿä¸­ï¼ˆå¦åˆ™ä¸èƒ½ä¸‹è½½æ•°æ®ï¼‰ $ wget -O - http://packages.openmediavault.org/public/archive.key | apt-key add - ç°åœ¨å°±å¯ä»¥æ›´æ–°è½¯ä»¶åº“ä¿¡æ¯ï¼Œå¹¶å®‰è£…OpenMediaVaultäº† $ apt-get update $ apt-get install openmediavault æ³¨æ„äº‹é¡¹ å› ä¸ºDebian7.6 å°±æ˜¯åœ¨æœ€å°åŒ–å®‰è£…æ—¶ä¹Ÿå®‰è£…äº†exim4ï¼Œè¿™ä¸ªå’Œopenmediavaultä¾èµ–çš„postfixæœ‰å†²çªï¼Œæ‰€ä»¥åœ¨è¿™ä¸€æ­¥æœ‰å¾ˆå¤šæç¤ºï¼ˆè¦æ ¹æ®æƒ…å†µé€‰æ‹©ï¼Œåæ­£éœ€è¦å¸è½½exim4ï¼‰ã€‚ åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­å› ä¸ºè¦é…ç½®postfixï¼Œæ‰€ä»¥ä¹Ÿæœ‰å¾ˆå¤šæç¤ºï¼Œè¿™é‡Œå°±ä¸ç»†è¡¨äº†ï¼Œæˆ‘å…¨éƒ¨é€‰çš„é»˜è®¤å€¼ã€‚ å…¶ä»–äº¤äº’æç¤ºä¹Ÿæ˜¯é»˜è®¤å€¼ã€‚ å¤§æ¦‚è¦ä¸‹è½½90Mæ•°æ®ï¼Œè§£å‹åè¦å ç”¨300å¤šMã€‚","tags":[]},{"title":"æ„å»ºå¤šå¹³å° Docker é•œåƒ","date":"2020-05-20T12:06:00.000Z","path":"2020/05/20/13/","text":"æ„å»ºå¤šå¹³å° Docker é•œåƒåˆ©ç”¨ Docker 19.03 å¼•å…¥çš„æ’ä»¶ buildxï¼Œå¯ä»¥å¾ˆè½»æ¾åœ°æ„å»ºå¤šå¹³å° Docker é•œåƒã€‚buildx æ˜¯ docker build ... å‘½ä»¤çš„ä¸‹ä¸€ä»£æ›¿ä»£å“ï¼Œå®ƒåˆ©ç”¨ BuildKit çš„å…¨éƒ¨åŠŸèƒ½æ‰©å±•äº† docker build çš„åŠŸèƒ½ã€‚ ä¸‹é¢å°±æ¥æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•åœ¨çŸ­çŸ­å‡ åˆ†é’Ÿå†…ä½¿ç”¨ buildx æ„å»ºå‡ºä¸åŒå¹³å°çš„ Docker é•œåƒã€‚æ­¥éª¤å¦‚ä¸‹ï¼š å¯ç”¨ buildx æ’ä»¶ è¦æƒ³ä½¿ç”¨ buildxï¼Œé¦–å…ˆè¦ç¡®ä¿ Docker ç‰ˆæœ¬ä¸ä½äº 19.03ï¼ŒåŒæ—¶è¿˜è¦é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ DOCKER_CLI_EXPERIMENTAL æ¥å¯ç”¨ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥ä¸ºå½“å‰ç»ˆç«¯å¯ç”¨ buildx æ’ä»¶ï¼š ğŸ³ â†’ export DOCKER_CLI_EXPERIMENTAL=enabled éªŒè¯æ˜¯å¦å¼€å¯ï¼š ğŸ³ â†’ sudo docker buildx version github.com/docker/buildx v0.3.1-tp-docker 6db68d029599c6710a32aa7adcba8e5a344795a7 å¦‚æœåœ¨æŸäº›ç³»ç»Ÿä¸Šè®¾ç½®ç¯å¢ƒå˜é‡ DOCKER_CLI_EXPERIMENTAL ä¸ç”Ÿæ•ˆï¼ˆæ¯”å¦‚ Arch Linuxï¼‰,ä½ å¯ä»¥é€‰æ‹©ä»æºä»£ç ç¼–è¯‘ï¼š ğŸ³ â†’ export DOCKER_BUILDKIT=1ğŸ³ â†’ docker build â€“platform=local -o . git://github.com/docker/buildxğŸ³ â†’ mkdir -p ~/.docker/cli-plugins &amp;&amp; mv buildx ~/.docker/cli-plugins/docker-buildx æˆ–è€…ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š åœ¨å®¿ä¸»æœºç›®å½•ä¸‹ï¼Œæ‰“å¼€ /root/.docker/config.json æ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯è‡ªè¡Œåˆ›å»º $ sudo vi /root/.docker/config.json å†™å…¥ä»¥ä¸‹æ•°æ®ï¼Œå¹¶ä¿å­˜åï¼Œé‡å¯docker 1234&#123; &quot;experimental&quot;: &quot;enabled&quot;, &quot;debug&quot;: true&#125; å¯ç”¨ binfmt_misc å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Docker æ¡Œé¢ç‰ˆï¼ˆMacOS å’Œ Windowsï¼‰ï¼Œé»˜è®¤å·²ç»å¯ç”¨äº† binfmt_miscï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Linuxï¼Œéœ€è¦æ‰‹åŠ¨å¯ç”¨ binfmt_miscã€‚å¤§å¤šæ•° Linux å‘è¡Œç‰ˆéƒ½å¾ˆå®¹æ˜“å¯ç”¨ï¼Œä¸è¿‡è¿˜æœ‰ä¸€ä¸ªæ›´å®¹æ˜“çš„åŠæ³•ï¼Œç›´æ¥è¿è¡Œä¸€ä¸ªç‰¹æƒå®¹å™¨ï¼Œå®¹å™¨é‡Œé¢å†™å¥½äº†è®¾ç½®è„šæœ¬ï¼š ğŸ³ â†’ docker run â€“rm â€“privileged docker/binfmt:66f9012c56a8316f9244ffd7622d7c21c1f6f28d å»ºè®®å°† Linux å†…æ ¸ç‰ˆæœ¬å‡çº§åˆ° 4.x ä»¥ä¸Šï¼Œç‰¹åˆ«æ˜¯ CentOS ç”¨æˆ·ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°é”™è¯¯ã€‚ éªŒè¯æ˜¯ binfmt_misc å¦å¼€å¯ï¼š ğŸ³ â†’ ls -al /proc/sys/fs/binfmt_misc/ 12345678æ€»ç”¨é‡ 0æ€»ç”¨é‡ 0-rw-r--r-- 1 root root 0 11æœˆ 18 00:12 qemu-aarch64-rw-r--r-- 1 root root 0 11æœˆ 18 00:12 qemu-arm-rw-r--r-- 1 root root 0 11æœˆ 18 00:12 qemu-ppc64le-rw-r--r-- 1 root root 0 11æœˆ 18 00:12 qemu-s390x--w------- 1 root root 0 11æœˆ 18 00:09 register-rw-r--r-- 1 root root 0 11æœˆ 18 00:12 status éªŒè¯æ˜¯å¦å¯ç”¨äº†ç›¸åº”çš„å¤„ç†å™¨ï¼š ğŸ³ â†’ cat /proc/sys/fs/binfmt_misc/qemu-aarch64 123456enabledinterpreter /usr/bin/qemu-aarch64flags: OCFoffset 0magic 7f454c460201010000000000000000000200b7mask ffffffffffffff00fffffffffffffffffeffff ä»é»˜è®¤çš„æ„å»ºå™¨åˆ‡æ¢åˆ°å¤šå¹³å°æ„å»ºå™¨ Docker é»˜è®¤ä¼šä½¿ç”¨ä¸æ”¯æŒå¤š CPU æ¶æ„çš„æ„å»ºå™¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åˆ‡æ¢ã€‚ å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„æ„å»ºå™¨ï¼š ğŸ³ â†’ docker buildx create â€“use â€“name mybuilder å¯åŠ¨æ„å»ºå™¨ï¼š ğŸ³ â†’ docker buildx inspect mybuilder â€“bootstrap 123456789101112[+] Building 5.0s (1/1) FINISHED =&gt; [internal] booting buildkit 5.0s =&gt; =&gt; pulling image moby/buildkit:buildx-stable-1 4.4s =&gt; =&gt; creating container buildx_buildkit_mybuilder0 0.6sName: mybuilderDriver: docker-containerNodes:Name: mybuilder0Endpoint: unix:///var/run/docker.sockStatus: runningPlatforms: linux/amd64, linux/arm64, linux/ppc64le, linux/s390x, linux/386, linux/arm/v7, linux/arm/v6 æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ„å»ºå™¨åŠæ„å»ºå™¨æ”¯æŒçš„ CPU æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°æ”¯æŒå¾ˆå¤š CPU æ¶æ„ï¼š ğŸ³ â†’ docker buildx ls 12345NAME/NODE DRIVER/ENDPOINT STATUS PLATFORMSmybuilder * docker-container mybuilder0 unix:///var/run/docker.sock running linux/amd64, linux/arm64, linux/ppc64le, linux/s390x, linux/386, linux/arm/v7, linux/arm/v6default docker default default running linux/amd64, linux/386 12345678910111213141516171819202122232425262728293031323334353637383940414243444546475. æ„å»ºå¤šå¹³å°é•œåƒ ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æ„å»ºæ”¯æŒå¤š CPU æ¶æ„çš„é•œåƒäº†ï¼ å‡è®¾ç°åœ¨å°±å¯ä»¥ä½¿ç”¨ buildx æ„å»ºä¸€ä¸ªæ”¯æŒ armã€arm64 å’Œ amd64 å¤šæ¶æ„çš„ Docker é•œåƒäº†ï¼ŒåŒæ—¶å°†å…¶æ¨é€åˆ° [Docker Hub](https://hub.docker.com/)ï¼š &gt; ğŸ³ â†’ docker buildx build -t yangchuansheng/hello-arch --platform=linux/arm,linux/arm64,linux/amd64 . --push éœ€è¦æå‰é€šè¿‡ `docker login` å‘½ä»¤ç™»å½•è®¤è¯ Docker Hubã€‚ ç°åœ¨å°±å¯ä»¥é€šè¿‡ `docker pull mirailabs/hello-arch` æ‹‰å–åˆšåˆšåˆ›å»ºçš„é•œåƒäº†ï¼ŒDocker å°†ä¼šæ ¹æ®ä½ çš„ CPU æ¶æ„æ‹‰å–åŒ¹é…çš„é•œåƒã€‚ èƒŒåçš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œä¹‹å‰å·²ç»æåˆ°è¿‡äº†ï¼Œbuildx ä¼šé€šè¿‡ `QEMU` å’Œ `binfmt_misc` åˆ†åˆ«ä¸º 3 ä¸ªä¸åŒçš„ CPU æ¶æ„ï¼ˆarmï¼Œarm64 å’Œ amd64ï¼‰æ„å»º 3 ä¸ªä¸åŒçš„é•œåƒã€‚æ„å»ºå®Œæˆåï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ª [manifest list](https://docs.docker.com/engine/reference/commandline/manifest/)ï¼Œå…¶ä¸­åŒ…å«äº†æŒ‡å‘è¿™ 3 ä¸ªé•œåƒçš„æŒ‡é’ˆã€‚ å¦‚æœæƒ³å°†æ„å»ºå¥½çš„é•œåƒä¿å­˜åœ¨æœ¬åœ°ï¼Œå¯ä»¥å°† `type` æŒ‡å®šä¸º `docker`ï¼Œä½†å¿…é¡»åˆ†åˆ«ä¸ºä¸åŒçš„ CPU æ¶æ„æ„å»ºä¸åŒçš„é•œåƒï¼Œä¸èƒ½åˆå¹¶æˆä¸€ä¸ªé•œåƒï¼Œå³ï¼š &gt; ğŸ³ â†’ docker buildx build -t yangchuansheng/hello-arch --platform=linux/arm -o type=docker . &gt; &gt; ğŸ³ â†’ docker buildx build -t yangchuansheng/hello-arch --platform=linux/arm64 -o type=docker . &gt; &gt; ğŸ³ â†’ docker buildx build -t yangchuansheng/hello-arch --platform=linux/amd64 -o type=docker .6. æµ‹è¯•å¤šå¹³å°é•œåƒ ç”±äºä¹‹å‰å·²ç»å¯ç”¨äº† `binfmt_misc`ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œä»»ä½• CPU æ¶æ„çš„ Docker é•œåƒäº†ï¼Œå› æ­¤å¯ä»¥åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šæµ‹è¯•ä¹‹å‰ç”Ÿæˆçš„ 3 ä¸ªé•œåƒæ˜¯å¦æœ‰é—®é¢˜ã€‚ é¦–å…ˆåˆ—å‡ºæ¯ä¸ªé•œåƒçš„ `digests`ï¼š &gt; ğŸ³ â†’ docker buildx imagetools inspect yangchuansheng/hello-arch ```bash Name: docker.io/yangchuansheng/hello-arch:latest MediaType: application/vnd.docker.distribution.manifest.list.v2+json Digest: sha256:ec55f5ece9a12db0c6c367acda8fd1214f50ee502902f97b72f7bff268ebc35a Manifests: Name: docker.io/yangchuansheng/hello-arch:latest@sha256:38e083870044cfde7f23a2eec91e307ec645282e76fd0356a29b32122b11c639 MediaType: application/vnd.docker.distribution.manifest.v2+json Platform: linux/arm/v7 Name: docker.io/yangchuansheng/hello-arch:latest@sha256:de273a2a3ce92a5dc1e6f2d796bb85a81fe1a61f82c4caaf08efed9cf05af66d MediaType: application/vnd.docker.distribution.manifest.v2+json Platform: linux/arm64 Name: docker.io/yangchuansheng/hello-arch:latest@sha256:8b735708d7d30e9cd6eb993449b1047b7229e53fbcebe940217cb36194e9e3a2 MediaType: application/vnd.docker.distribution.manifest.v2+json Platform: linux/amd64 è¿è¡Œæ¯ä¸€ä¸ªé•œåƒå¹¶è§‚å¯Ÿè¾“å‡ºç»“æœï¼š ğŸ³ â†’ docker run â€“rm xxx:arm ğŸ³ â†’ docker run â€“rm xxx:amd64 ğŸ³ â†’ docker run â€“rm xxx:arm64 æ€»ç»“ å›é¡¾ä¸€ä¸‹ï¼Œæœ¬æ–‡å¸¦å¤§å®¶äº†è§£äº†åœ¨ä¸åŒçš„ CPU æ¶æ„ä¸Šè¿è¡Œè½¯ä»¶çš„æŒ‘æˆ˜æ€§ï¼Œä»¥åŠ buildx å¦‚ä½•å¸®åŠ©æˆ‘ä»¬è§£å†³äº†å…¶ä¸­çš„ä¸€äº›æŒ‘æˆ˜ã€‚ä½¿ç”¨ buildxï¼Œæˆ‘ä»¬æ— éœ€å¯¹ Dockerfile è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œå°±å¯ä»¥åˆ›å»ºæ”¯æŒå¤šç§ CPU æ¶æ„çš„ Docker é•œåƒï¼Œç„¶åå°†å…¶æ¨é€åˆ° Docker Hubã€‚ä»»ä½•å®‰è£…äº† Docker çš„ç³»ç»Ÿéƒ½å¯ä»¥æ‹‰å–åˆ°ä¸å®ƒçš„ CPU æ¶æ„ç›¸å¯¹åº”çš„é•œåƒã€‚ æœªæ¥ buildx å¯èƒ½ä¼šæˆä¸º docker build å‘½ä»¤çš„ä¸€éƒ¨åˆ†ï¼Œæœ€ç»ˆæ‰€æœ‰ä¸Šé¢æåˆ°çš„åŠŸèƒ½éƒ½ä¼šå˜æˆé»˜è®¤çš„åŠŸèƒ½ï¼Œä¸‹æ²‰åˆ°åŸºç¡€è®¾æ–½ä¸­äº¤å‰ç¼–è¯‘ç¨‹åºçš„åšæ³•å°†ä¼šå˜æˆè¿œå¤æ—¶ä»£çš„æ„šè ¢è¡Œä¸ºã€‚","tags":[]},{"title":"Centos8å®‰è£…Docker","date":"2020-05-20T10:06:00.000Z","path":"2020/05/20/12/","text":"Dockerå®¹å™¨æ“ä½œ æŸ¥çœ‹å®¹å™¨ï¼š $ sudo docker ps -a æ‰“å¼€å®¹å™¨ï¼š sudo docker statr â€œCONTAINER IDâ€ $ sudo docker start cc32bf495919 //ä¸¾ä¾‹ï¼šæ‰“å¼€portainerUI æ“ä½œå®¹å™¨ï¼š $ sudo docker exec -it â€œcontainer-nameâ€ bash // è¿›å…¥å®¹å™¨æ“ä½œç•Œé¢ é€€å‡ºå®¹å™¨ï¼š ç›´æ¥exité€€å‡ºå®¹å™¨ï¼Œä¼šå…³é—­å½“å‰å®¹å™¨ï¼› é€šè¿‡æŒ‰Ctrl+P+Qè¿›è¡Œé€€å‡ºå®¹å™¨ï¼Œæ­¤æ—¶ä¸ä¼šå…³é—­å½“å‰å®¹å™¨ã€‚ å®¿ä¸»æœºä¸å®¹å™¨é—´æ•°æ®äº’ä¼ ï¼š å®¿ä¸»æœºä¼ ç»™å®¹å™¨ï¼š $ sudo docker cp /home/gysg/developer/catalina.sh tomcat:/usr/local/tomcat/bin/ å®¹å™¨ä¼ ç»™å®¿ä¸»æœºï¼š $ sudo docker cp tomcat:/usr/local/tomcat/bin/catalina.sh /home/gysg/developer/ æ–‡ä»¶æƒé™ä¸ä¸€è‡´é€ æˆè¿è¡Œé—®é¢˜ï¼Œå› æ­¤éœ€è¦æŠŠæƒé™å–æ¶ˆæˆ–è€…è¿˜åŸ $ sudo chmod 777 -R dirs // è®¾ç½®ä¸º777ï¼Œä»»ä½•äººéƒ½å¯ä»¥æ“ä½œ $ sudo chmod 644 -R dirs // è®¾ç½®ä¸ºrootæƒé™ å®¹å™¨è¿è¡Œè¯´æ˜ï¼š $ docker run [OPTIONS] IMAGE [COMMAND] [ARGâ€¦] 12345678910111213-a stdin: æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»å‹ï¼Œå¯é€‰ STDIN/STDOUT/STDERR ä¸‰é¡¹ï¼›-d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›-i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›-P: éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„é«˜ç«¯å£-p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£-t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›--name=&quot;nginx-lb&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼› è‡ªåŠ¨é‡å¯è®¾ç½®ï¼š åœ¨è¿è¡Œdockerå®¹å™¨æ—¶å¯ä»¥åŠ å¦‚ä¸‹å‚æ•°æ¥ä¿è¯æ¯æ¬¡dockeræœåŠ¡é‡å¯åå®¹å™¨ä¹Ÿè‡ªåŠ¨é‡å¯ï¼š $ sudo docker run â€“restart=always å¦‚æœå·²ç»å¯åŠ¨äº†åˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š $ sudo docker update â€“restart=always CentOS 8ä¸­å®‰è£…Dockerå®˜æ–¹å‚è€ƒåœ°å€ï¼šhttps://docs.docker.com/install/linux/docker-ce/centos/ é‡Œé¢åŒ…å«åŒ…ä¸‹è½½åœ°å€ï¼š https://download.docker.com/linux/centos/7/x86_64/stable/Packages/ å®‰è£…ä¾èµ– $ sudo yum install -y yum-utils device-mapper-persistent-data lvm2 $ sudo yum-config-manager â€“add-repo https://download.docker.com/linux/centos/docker-ce.repo $ sudo yum install docker-ce docker-ce-cli containerd.io å¦‚æœæŠ¥é”™ï¼šProblem: package docker-ce-3:19.03.4-3.el7.x86_64 requires containerd.io &gt;= 1.2.2-3 é‚£å°±å…ˆè£…æ–°ç‰ˆçš„ containerd.io $ sudo dnf install https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm å†è£…å‰©ä¸‹ä¸¤ä¸ª $ sudo yum install docker-ce docker-ce-cli $ sudo systemctl start docker $ docker â€“version å¼€æœºè‡ªå¯ $ sudo systemctl enable docker CentOS 8ä¸­å®‰è£…Dockerå‡ºç°å’ŒPodmanå†²çª æŸ¥çœ‹æ˜¯å¦å®‰è£… Podman rpm -q podman åˆ é™¤Podman dnf remove podman å®‰è£… Docker dnf install docker-ce docker-ce-cli Dockerä¸‹å®‰è£…å›¾å½¢åŒ–å·¥å…·docker å›¾å½¢é¡µé¢ç®¡ç†å·¥å…·å¸¸ç”¨çš„æœ‰ä¸‰ç§ï¼ŒDockerUI ï¼ŒPortainer ï¼ŒShipyard ã€‚DockerUI æ˜¯ Portainer çš„å‰èº«ï¼Œè¿™ä¸‰ä¸ªå·¥å…·é€šè¿‡docker apiæ¥è·å–ç®¡ç†çš„èµ„æºä¿¡æ¯ã€‚å¹³æ—¶æˆ‘ä»¬å¸¸å¸¸å¯¹ç€shellå¯¹ç€è¿™äº›å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå®¡ç¾ä¼šå¾ˆç–²åŠ³ï¼Œå¦‚æœæœ‰æ¼‚äº®çš„å›¾å½¢åŒ–ç•Œé¢å¯ä»¥ç›´è§‚æŸ¥çœ‹dockerèµ„æºä¿¡æ¯ï¼Œä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ­å»ºå•æœºç‰ˆçš„ä¸‰ç§å¸¸ç”¨å›¾å½¢é¡µé¢ç®¡ç†å·¥å…·ã€‚è¿™ä¸‰ç§å›¾å½¢åŒ–ç®¡ç†å·¥å…·ä»¥Portaineræœ€ä¸ºå—æ¬¢è¿ã€‚ å®‰è£…è½»é‡çº§å›¾å½¢é¡µé¢ç®¡ç†ä¹‹Portainerï¼š æŸ¥çœ‹portaineré•œåƒ $ docker search portainer é€‰æ‹©å–œæ¬¢çš„portaineré£æ ¼é•œåƒï¼Œä¸‹è½½ $ docker pull portainer/portainer å¯åŠ¨dockeruiå®¹å™¨ $ docker run â€“restart=always -d â€“name portainerUI -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer æµè§ˆå™¨è®¿é—® http://192.168.2.119:9000 , è®¾ç½®ä¸€ä¸ªå¯†ç å³å¯ï¼Œç‚¹å‡»åˆ›å»ºç”¨æˆ· Dockerä¸‹å®‰è£…MySQL8 å®‰è£…MySQLæº $ sudo docker pull mysql:8.0.20 // æŒ‡å®šç‰ˆæœ¬å·å®‰è£…MySQL ç¬¬ä¸€æ¬¡å¯åŠ¨ $ sudo docker run -p 3306:3306 â€“name mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:8.0.20 é…ç½®æŒä¹…åŒ–æ•°æ® æ ¹ç›®å½•åˆ›å»ºç›®å½•ï¼š $ mkdir /workdir ç›®å½•è¿ç§»ï¼š $ cp /var/lib/mysql /workdir/ é…ç½®ä¿¡æ¯ä¿®æ”¹ï¼š æ‰“å¼€/etc/mysqlç›®å½•ä¸‹çš„my.cnfé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„ â€datadir = /workdir/mysqlâ€œï¼Œå†é‡æ–°å­˜å…¥åŸä½ç½® $ sudo /home/***/my.cnf mysql:/etc/mysql é‡å¯å®¹å™¨MySQL ä¿®æ”¹åŠ å¯†è§„åˆ™ $ docker exec -it mysql bash // è¿›å…¥MySQLcontainer $ mysql -uroot -p123456 // ç™»å½•MySQL $ alter user â€˜rootâ€˜@â€™%â€™ identified by â€˜123456â€™ password expire never; $ alter user â€˜rootâ€˜@â€™%â€™ identified with mysql_native_password by â€˜123456â€™; $ create user â€˜xxhâ€˜@â€™%â€™ identified with mysql_native_password by â€˜xxh123!@#â€™; $ GRANT ALL PRIVILEGES ON . TO â€˜xxhâ€˜@â€™%â€™; $ flush privileges; // ä½¿è®¾ç½®ç«‹å³ç”Ÿæ•ˆ é•œåƒæ‹‰å–é—®é¢˜ é»˜è®¤ä¼šæ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„é•œåƒï¼Œç„¶è€Œå´æ€»æ˜¯å¡åœ¨æŸæ®µåŠ¨ä¹Ÿä¸èƒ½åŠ¨â€¦â€¦ è§£å†³æ–¹æ¡ˆå…ˆä¿®æ”¹å®¿ä¸»æœºä¸‹çš„ /etc/docker/çš„daemon.jsonæ–‡ä»¶ï¼Œæ­¤å¤„ç½‘ä¸Šæœ‰å¤šç§ä¿®æ”¹æ–¹æ¡ˆæˆ‘ä¹Ÿè¯•è¿‡å‡ ç§â€¦æœ€åç”¨çš„æ˜¯ä¸‹é¢è¿™ä¸ªï¼š 123&#123; &quot;registry-mirrors&quot;: [&quot;https://9cpn8tt6.mirror.aliyuncs.com&quot;]&#125; dockerfileé…ç½® 1234567container_name: &apos;local_db&apos;build: ./services/mysqlenvironment: MYSQL_ROOT_PASSWORD: $&#123;MYSQL_ROOT_PASSWORD&#125;ports: - &quot;3306:3306&quot;volumes: - $&#123;MYSQL_DATA_PATH&#125;:/var/lib/mysql æ•°æ®æŒä¹…åŒ–ï¼ˆä¸æ¨èï¼‰ 12341. éœ€è¦åœ¨ä¿®æ”¹mysqlå®¹å™¨ä¸­çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºç›®å½• mdkir /workdir ã€‚2. å°† /var/lib/mysql å¤åˆ¶ åˆ°æ–°å»ºç›®å½•ä¸­ã€‚3. ä¿®æ”¹ /etc/mysql/my.cnf datadir = /workdir/mysql Dockerä¸‹å®‰è£…Tomcat å®‰è£…Tomcat $ sudo docker pull tomcat:latest è®¾ç½®Tomcatæ—¶åŒºä¸€è‡´ åœ¨tomcat/binä¸‹çš„catalina.shæœ€ååŠ ä¸Šä¸‹é¢è¿™ä¸€å¥å³å¯ï¼š JAVA_OPTS=â€${JAVA_OPTS} -Duser.timezone=GMT+08â€ å¯åŠ¨Tomcat $ sudo docker run -p 8090:8080 â€“name tomcat -d tomcat:latest æˆ–è€…å¦‚ä¸‹ï¼š $ sudo docker run â€“name tomcat -d -p 8090:8080 -v /home/gysg/developer/websoft:/usr/local/tomcat/webapps -v /mnt/data:/mnt/data tomcat-gysg:2.0 ç»™è¿è¡Œä¸­Dockerå®¹å™¨å®‰è£…SSHæœåŠ¡è¿™é‡Œæˆ‘ä»¥æˆ‘æœ¬åœ°ä¸€ä¸ªè¿è¡Œä¸­çš„SQL Serverçš„æ•°æ®åº“æœåŠ¡ä¸ºä¾‹ 1ã€æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥æŒ‡ä»¤docker psæŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨å¹¶å¤åˆ¶å®¹å™¨ID 2ã€è¾“å…¥æŒ‡ä»¤docker exec -it &lt;å¤åˆ¶çš„å®¹å™¨ID&gt; /bin/sh,è¿›å…¥å‘½ä»¤è¡Œå·¥å…· 3ã€è¿›å…¥å‘½ä»¤è¡Œå·¥å…·åé¦–å…ˆå»ºè®®è¾“å…¥æŒ‡ä»¤apt-get updateæ›´æ–°ä¸‹æº 4ã€è¾“å…¥æŒ‡ä»¤apt-get install openssh-server,å®‰è£…SSHæœåŠ¡ 5ã€å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥æŒ‡ä»¤service ssh satrt å¯åŠ¨SSHæœåŠ¡ 6ã€ä½¿ç”¨vimè¿›å…¥/etc/ssh/sshd.configæ–‡ä»¶æ›´æ”¹SSHæœåŠ¡é…ç½®ï¼Œå°†PermitRootLoginçš„å€¼ä»withoutPasswordæ”¹ä¸ºyesï¼Œå…è®¸rootç”¨æˆ·è¿›è¡Œç™»å½• 7ã€è¾“å…¥æŒ‡ä»¤passwd rootè®¾ç½®rootç”¨æˆ·ç™»å½•å¯†ç  8ã€å¦‚æœdockerå®¹å™¨ä¸­æ²¡æœ‰å®‰è£…vim,åˆ™è¾“å…¥æŒ‡ä»¤apt-get install vimè¿›è¡Œå®‰è£… 9ã€è¾“å…¥æŒ‡ä»¤service ssh restarté‡å¯SSHæœåŠ¡ 10ã€è¾“å…¥exité€€å‡ºå½“å‰å®¹å™¨å‘½ä»¤è¡Œå·¥å…· 11ã€å›åˆ°ç³»ç»Ÿå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥æŒ‡ä»¤docker psæŸ¥çœ‹å½“å‰è¿è¡Œä¸­çš„å®¹å™¨å¹¶å¤åˆ¶å®‰è£…å¥½SSHæœåŠ¡çš„å®¹å™¨ID 12ã€ä¸ºäº†é¿å…åæœŸå› ä¸ºå„ç§åŸå› é‡å¤å®‰è£…SSHæœåŠ¡ï¼Œå»ºè®®è¾“å…¥æŒ‡ä»¤docker commit &lt;å¤åˆ¶çš„å®¹å™¨ID&gt; &lt;è‡ªå·±å®šä¹‰çš„é•œåƒå&gt;ï¼Œä¿å­˜ç»æƒ³åˆ°æœ¬åœ° 13ã€åœæ­¢å½“å‰é•œåƒï¼Œè¾“å…¥æŒ‡ä»¤docker run -e &apos;ACCEPT_EULA=Y&apos; -e &apos;SA_PASSWORD=567rty%^&amp;YUI&apos; -p 1433:1433 -p 8400:20 -d microsoft/mssql-server-linux:latest,å¯åŠ¨åˆšæ‰ä¿å­˜åœ¨æœ¬åœ°çš„é•œåƒå¹¶æŠŠSSHæœåŠ¡çš„20ç«¯å£æ˜ å°„å‡ºæ¥ï¼Œè¿™é‡Œæˆ‘æ˜ å°„çš„æ˜¯ä¸»æœº8400duankou 14ã€ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œè¿˜å¯ä»¥è¾“å…¥æŒ‡ä»¤docker update --restart=always &lt;å®¹å™¨ID&gt;è®©å®¹å™¨ä¿æŒå§‹ç»ˆè¿è¡Œã€‚ Dockerä¸‹DNSè§£æå‡ºé”™çš„å¤„ç†Temporary failure in name resolutionï¼ˆåŸŸåè§£ææš‚æ—¶å¤±è´¥ï¼‰ â€‹ æˆ‘çš„æ“ä½œç¯å¢ƒä¸ºCentOS 8ï¼Œä¸CentOS 7ä½¿ç”¨å‘½ä»¤å®Œå…¨ä¸€è‡´ã€‚å…¶ä»–ä¸åŒLinuxç³»ç»Ÿç‰ˆæœ¬å‘½ä»¤å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œè¯·æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿç‰ˆæœ¬ä½¿ç”¨å¯¹åº”å‘½ä»¤ï¼Œç›´æ¥ç™¾åº¦ç›¸å…³æ“ä½œå³å¯ã€‚ æ£€æŸ¥ä¸»æœºç½‘ç»œè®¾ç½® æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ‰“å¼€ipåœ°å€è½¬å‘åŠŸèƒ½ï¼š $ cat /proc/sys/net/ipv4/ip_forward // è¿”å›0åˆ™è¯´æ˜æœªæ‰“å¼€ï¼Œå¼€å¯ipåœ°å€è½¬å‘ ä½¿ç”¨å‘½ä»¤æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š $ vi /etc/sysctl.conf æ‰“å¼€å†…æ ¸é…ç½®æ–‡ä»¶ï¼ŒæŸ¥æ‰¾net.ipv4.ip_forward = 0ï¼Œå°†å…¶ä¿®æ”¹ä¸ºnet.ipv4.ip_forward = 1ï¼Œè‹¥è¯¥è¡Œå¼€å¤´æœ‰#ï¼Œå°†å…¶å»æ‰ï¼›è‹¥é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰æ­¤é¡¹ï¼Œåˆ™åœ¨æ–‡ä»¶æœ€åæ·»åŠ æ­¤å†…å®¹ã€‚ ä¿å­˜ä¿®æ”¹åï¼Œé‡å¯ç³»ç»Ÿæˆ–è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼š $ sysctl -p /etc/sysctl.conf$ systemctl restart network æ£€æŸ¥ä¸€ä¸‹é—®é¢˜æ˜¯å¦è§£å†³ï¼Œè‹¥æ²¡æœ‰åˆ™è¿›å…¥ä¸‹ä¸€æ­¥æ’æŸ¥ã€‚ æ£€æŸ¥ä¸»æœºé˜²ç«å¢™é…ç½® æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼ˆè‹¥é˜²ç«å¢™ä¸ºå…³é—­çŠ¶æ€ï¼Œå¯è·³è¿‡é˜²ç«å¢™æœ‰å…³è®¾ç½®ï¼‰ï¼š $ sudo firewall-cmd â€“state è‹¥è¿”å›rungingï¼Œåˆ™é˜²ç«å¢™ä¸ºå¼€å¯çŠ¶æ€ï¼ŒæŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å¼€å¯ipåœ°å€è½¬å‘ï¼ˆipåœ°å€ä¼ªè£…ï¼‰ï¼š $ sudo firewall-cmd â€“query-masquerade è‹¥è¿”å›noï¼Œåˆ™è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å¯ipåœ°å€è½¬å‘ï¼š $ sudo firewall-cmd â€“add-masquerade â€“permanent ç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼š $ sudo firewall-cmd â€“reload å†æ¬¡æ£€æŸ¥é—®é¢˜æ˜¯å¦å·²ç»è§£å†³ï¼Œè‹¥æ²¡æœ‰åˆ™è¿›è¡Œå†ä¸€æ­¥æ’æŸ¥ã€‚ è®¾ç½®DockeræŒ‡å®šDNSæœåŠ¡å™¨ æ‰“å¼€Dockerç›¸å…³è®¾ç½®æ–‡ä»¶ï¼ˆå®¿ä¸»æœºå†…ï¼‰ï¼Œæ²¡æœ‰å°±æ–°å»ºä¸€ä¸ªï¼Œè¾“å…¥ä¸‹åˆ—å‘½ä»¤ä¼šæ‰“å¼€æˆ–è‡ªåŠ¨æ–°å»ºï¼š $ vi /etc/docker/daemon.json åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š { &quot;dns&quot;: [&quot;8.8.8.8&quot;,&quot;114.114.114.114&quot;] } 8.8.8.8å’Œ114.114.114.114æ˜¯ä¸¤ä¸ªDNSæœåŠ¡å™¨ï¼Œå¯ä»¥ä¿®æ”¹æˆ–å¢åŠ ã€‚ ç„¶åé‡å¯Dockerï¼š $ systemctl restart docker åˆ°è¿™é‡Œé—®é¢˜åº”è¯¥å°±å¯ä»¥å¾—åˆ°è§£å†³äº†ã€‚ ä¿®æ”¹å®¹å™¨é…ç½®æ–‡ä»¶ï¼Œé‡å¯dockeræœåŠ¡ å®¹å™¨çš„é…ç½®æ–‡ä»¶è·¯å¾„ /var/lib/docker/containers/[hash_of_the_container]/hostconfig.json` å…¶ä¸­çš„hashofthecontaineræ˜¯dockeré•œåƒçš„hashå€¼ï¼Œå¯ä»¥é€šè¿‡docker psæˆ–è€…docker inspect containernameæŸ¥çœ‹ã€‚ï¼ˆCONTAINER IDå°±å¯ä»¥çœ‹å‡ºæ¥ï¼‰ æŒ‰éœ€ä¿®æ”¹ç«¯å£, æŒ‰éœ€ä¿®æ”¹æŒ‚è½½ç›®å½•(æƒé™å’Œå±ä¸»å±ç»„è¦ç›¸åŒ)ï¼Œç„¶åé‡å¯dockeræœåŠ¡ æ ¼å¼ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&#123; \"Binds\": [\"/srv/gitlab/logs:/var/log/gitlab\", \"/srv/gitlab/data:/var/opt/gitlab\", \"/srv/gitlab/config:/etc/gitlab\"], \"ContainerIDFile\":\"\", \"LogConfig\": &#123;\"Type\":\"journald\",\"Config\":&#123;&#125;&#125;, \"NetworkMode\":\"default\", \"PortBindings\": &#123;\"22/tcp\":[&#123;\"HostIp\":\"\",\"HostPort\":\"10022\"&#125;], \"443/tcp\":[&#123;\"HostIp\":\"\",\"HostPort\":\"10443\"&#125;], \"80/tcp\":[&#123;\"HostIp\":\"\",\"HostPort\":\"10080\"&#125;]&#125;, \"RestartPolicy\": &#123;\"Name\":\"always\",\"MaximumRetryCount\":0&#125;, \"AutoRemove\":false, \"VolumeDriver\":\"\", \"VolumesFrom\":null, \"CapAdd\":null, \"CapDrop\":null, \"Dns\":[], \"DnsOptions\":[], \"DnsSearch\":[], \"ExtraHosts\":null, \"GroupAdd\":null, \"IpcMode\":\"\", \"Cgroup\":\"\", \"Links\":[], \"OomScoreAdj\":0, \"PidMode\":\"\", \"Privileged\":false, \"PublishAllPorts\":false, \"ReadonlyRootfs\":false, \"SecurityOpt\":null, \"UTSMode\":\"\", \"UsernsMode\":\"\", \"ShmSize\":67108864, \"Runtime\":\"docker-runc\", \"ConsoleSize\":[0,0], \"Isolation\":\"\", \"CpuShares\":0, \"Memory\":0, \"NanoCpus\":0, \"CgroupParent\":\"\", \"BlkioWeight\":0, \"BlkioWeightDevice\":null, \"BlkioDeviceReadBps\":null, \"BlkioDeviceWriteBps\":null, \"BlkioDeviceReadIOps\":null, \"BlkioDeviceWriteIOps\":null, \"CpuPeriod\":0, \"CpuQuota\":0, \"CpuRealtimePeriod\":0, \"CpuRealtimeRuntime\":0, \"CpusetCpus\":\"\", \"CpusetMems\":\"\", \"Devices\":[], \"DiskQuota\":0, \"KernelMemory\":0, \"MemoryReservation\":0, \"MemorySwap\":0, \"MemorySwappiness\":-1, \"OomKillDisable\":false, \"PidsLimit\":0, \"Ulimits\":null, \"CpuCount\":0, \"CpuPercent\":0, \"IOMaximumIOps\":0, \"IOMaximumBandwidth\":0&#125; Tomcaté…ç½® [â€œ/home/gysg/developer/websoft:/usr/local/tomcat/webappsâ€, â€œ/mnt/data:/mnt/dataâ€] sudo docker run --name tomcat-new-01 -d -p 8090:8080 -v /home/gysg/developer/websoft:/usr/local/tomcat/webapps -v /mnt/data:/mnt/data tomcat-new-01:latest Dockerçš„å¤‡ä»½ä¸è¿˜åŸ å¤‡ä»½å®¹å™¨ $ docker ps // æŸ¥çœ‹å·²åˆ›å»ºçš„å®¹å™¨ $ docker commit -p â€œCONTAINER IDâ€ container-name // æäº¤ç”Ÿæˆé•œåƒå¿«ç…§ é•œåƒæ‰“åŒ… æäº¤é•œåƒåˆ°docker hub â€‹ å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨Dockeræ³¨å†Œä¸­å¿ƒä¸Šä¼ æˆ–å¤‡ä»½é•œåƒï¼Œæˆ‘ä»¬åªéœ€è¦è¿è¡Œ docker login å‘½ä»¤æ¥ç™»å½•è¿›Dockeræ³¨å†Œä¸­å¿ƒï¼Œç„¶åæ¨é€æ‰€éœ€çš„é•œåƒå³å¯ã€‚ ä»£ç å¦‚ä¸‹ï¼š $ docker login // username: password: $ docker tag â€œIMAGE IDâ€ â€œfilepath/image-name:tagâ€ // æ‰“æ ‡è®° $ docker push â€œfilepath/image-nameâ€ // æäº¤ ä¿å­˜é•œåƒåˆ°æœ¬åœ°æ–‡ä»¶ $ docker save -o ~/container-backup.tar container-backup // å¤‡ä»½è·¯å¾„.tar è¦å¤‡ä»½çš„é•œåƒåç§° æ¢å¤å¤‡ä»½ è¿œç¨‹æ¢å¤ $ docker pull â€œfilepath/image-name:tagâ€ æœ¬åœ°æ¢å¤ $ docker load -i ~/container-backup.tar // å¤‡ä»½è·¯å¾„.tar åŠ è½½æ–°å®¹å™¨ docker run â€¦ é‡å¯docker $ sudo systemctl restart docker DockeræŠ¥é”™æ—¥å¸¸docker: Error response from daemon:è§£å†³æ–¹æ³•ï¼š åœæ­¢æ‰€æœ‰çš„å®¹å™¨ï¼Œæœ‰æ—¶å€™ä¹Ÿä¸éœ€è¦å…¨éƒ¨åœæ­¢ 1docker stop $(docker ps -q) å¼ºåˆ¶ç§»é™¤æ­¤å®¹å™¨ 1docker rm -f mysql1 æ¸…ç†æ­¤å®¹å™¨çš„ç½‘ç»œå ç”¨ æ ¼å¼ï¼šdocker network disconnect --force ç½‘ç»œæ¨¡å¼ å®¹å™¨åç§° ç¤ºä¾‹ï¼šdocker network disconnect --force bridge mysql1 ç®€æŸ¥æ˜¯å¦è¿˜æœ‰åŒåå®¹å™¨å ç”¨ æ ¼å¼ï¼šdocker network inspect ç½‘ç»œæ¨¡å¼ ç¤ºä¾‹ï¼šdocker network inspect bridge é‡æ–°æ„å»ºå®¹å™¨ 1docker run --name mysql1 -d -p3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql:latest Tomcatå¯åŠ¨è¿è¡Œç¼“æ…¢å¤„ç† ç›´æ¥æ”¹jdkçš„é…ç½® æ‰“å¼€jdkå®‰è£…è·¯å¾„ $JAVA_PATH/jre/lib/security/java.security è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢çš„å†…å®¹: securerandom.source=file:/dev/random æ›¿æ¢æˆï¼š securerandom.source=file:/dev/./urandom æˆ–è€…åœ¨å¯åŠ¨æ—¶åŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼š $ -e JAVA_OPTS=â€-Duser.timezone=Asia/Shanghai -Djava.security.egd=file:/dev/./urandomâ€ æˆ–è€…ä¿®æ”¹catlina.shï¼Œåœ¨ç¬¬ä¸€è¡ŒåŠ å…¥ä»¥ä¸‹ä»£ç ï¼š 1234&gt; if [[ &quot;$JAVA_OPTS&quot; != *-Djava.security.egd=* ]]; then&gt; JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.egd=&quot;&gt; fi&gt; Dockeré•œåƒæ— æ³•åˆ é™¤çš„é—®é¢˜ $ sudo docker image ls $ sudo docker rm -f tomcat:latest Dockerä¸‹æ‰§è¡Œæ„å»ºå‘½ä»¤ $ sudo docker build -t image-name:tag . Dockerä¸‹åˆ›å»ºkmsæœåŠ¡å™¨ å¯åŠ¨KMSæœåŠ¡å™¨ï¼š $ sudo docker run -idt -p 1688:1688 â€“name kms-server vlmcsd å¯åŠ¨TomcatæœåŠ¡å™¨ï¼š $ sudo docker run â€“name tomcat -dit -p 8090:8080 -v /etc/localtime:/etc/localtime:ro -v /home/gysg/developer/websoft:/usr/local/soft/tomcat/webapps -v /mnt/data:/mnt/data tomcat-gysg:2.0 $ sudo docker run â€“name tomcat -dit -p 8080:8080 -v /etc/localtime:/etc/localtime:ro -v /home/pi/developer/websoft:/usr/local/soft/tomcat/webapps -v /mnt/data:/mnt/data -v /mnt/usb/movie:/mnt/usb/movie tomcat-gysg:9.1.arm å¯åŠ¨MySQLæ•°æ®åº“ï¼š $ sudo docker run -p 3306:3306 â€“name mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:8.0.20 å¯åŠ¨å›¾å½¢åŒ–ç®¡ç†ç•Œé¢ï¼š $ docker run â€“restart=always -d â€“name portainerUI -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer Nginxå¯åŠ¨ï¼š 1234567891011&gt; docker run --detach \\&gt; --name nginx \\&gt; -p 443:443\\&gt; -p 80:80 \\&gt; -v /nginx/data:/usr/share/nginx/html:rw\\&gt; -v /nginx/config/nginx.conf:/etc/nginx/nginx.conf/:rw\\&gt; -v /nginx/config/conf.d/default.conf:/etc/nginx/conf.d/default.conf:rw\\&gt; -v /nginx/logs:/var/log/nginx/:rw\\&gt; -v /nginx/ssl:/ssl/:rw\\&gt; -d nginx&gt; Jenkinså¯åŠ¨ï¼š åˆ›å»ºä¸€ä¸ªjenkinsç›®å½• $ mkdir /home/jenkins_home; å¯åŠ¨ä¸€ä¸ªjenkinså®¹å™¨ $ sudo docker run -d â€“name jenkins -p 9100:8080 -p 50000:50000 -v /home/gysg/developer/jenkins:/var/jenkins_home -v /home/gysg/developer/android-sdk:/var/android-sdk jenkins/jenkins:lts","tags":[]},{"title":"æ ‘è“æ´¾ç³»ç»Ÿçš„å¤‡ä»½ä¸è¿˜åŸ","date":"2018-10-26T10:06:00.000Z","path":"2018/10/26/11/","text":"æ ‘è“æ´¾ç³»ç»Ÿçš„å¤‡ä»½ä¸è¿˜åŸæ ‘è“æ´¾ä½¿ç”¨SDå¡æ¥å®‰è£…ç³»ç»Ÿï¼Œå¦‚æœSDå¡ä¸¢å¤±æˆ–è€…æŸåï¼Œé‚£ä¹ˆæ ‘è“æ´¾ä¸Šçš„æ•°æ®éƒ½ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥ä¸€å®šè¦å¤‡ä»½å¥½SDå¡ã€‚è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®ä½ å¤‡ä»½ä½ çš„æ ‘è“æ´¾ç³»ç»Ÿã€‚ä¸»è¦å†…å®¹ä¸ºå¤‡ä»½SDå¡ï¼Œåˆ¶ä½œæ ‘è“æ´¾ç³»ç»Ÿé•œåƒä»¥åŠåœ¨éœ€è¦çš„æ—¶å€™è¿˜åŸå¤‡ä»½çš„æ–¹æ³•ã€‚ ä¸€ã€å‡†å¤‡å·¥ä½œ1ã€ä¸€å°linux PC 2ã€æ ‘è“æ´¾SDå¡ 3ã€è¯»å¡å™¨ äºŒã€å¤‡ä»½æ ‘è“æ´¾æ–¹æ³•ä¸€ï¼š å¦‚æœä½ æ²¡æœ‰è¿è¡ŒLinux çš„ç”µè„‘ï¼Œé€šè¿‡windowsä¹Ÿå¯ä»¥å¤‡ä»½ï¼Œåªä¸è¿‡è¿™ç§æ–¹æ³•å¤‡ä»½ä¸‹æ¥çš„æ–‡ä»¶æ¯”è¾ƒå¤§ï¼ŒSDå¡å®¹é‡å¤šå¤§ï¼Œåˆ™å¤‡ä»½æ–‡ä»¶å¤šå¤§ã€‚ é¦–å…ˆå°†SDå¡é€šè¿‡è¯»å¡å™¨æ’å…¥ç”µè„‘ï¼Œæ‰“å¼€ win32diskimager ï¼Œè¾“å…¥é•œåƒå raspberry.img ï¼Œç‚¹å‡»è¯»ï¼Œå³å¯å°†æ ‘è“æ´¾SDå¡æ–‡ä»¶è½¬ä¸ºé•œåƒã€‚ è¿™ç§æ–¹æ³•åˆ¶ä½œçš„é•œåƒæ–‡ä»¶å·¨å¤§ï¼Œè€Œä¸”åœ¨è¿˜åŸçš„æ—¶å€™å¿…é¡»ä½¿ç”¨æ¯”é•œåƒæ›´å¤§å®¹é‡çš„SDå¡ï¼Œé€ æˆç§ç§ä¸æ–¹ä¾¿ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ–¹æ³•äºŒã€‚ æ–¹æ³•äºŒï¼š æŒ‚è½½SDå¡ å¦‚æœåœ¨Ubuntuç¯å¢ƒä¸‹ï¼ŒSDå¡ä¼šè‡ªåŠ¨è¿›è¡ŒæŒ‚è½½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›è¡Œç¬¬2æ­¥ã€‚ è‡ªåŠ¨æŒ‚è½½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ df -h å‘½ä»¤å¯ä»¥æŸ¥çœ‹SDå¡ï¼Œå¦‚/dev/sdb1 /dev/sdb2 å°±æ˜¯æ ‘è“æ´¾çš„SDå¡ï¼Œå…¶ä¸­60Mçš„åˆ†åŒºsdb1æ˜¯bootåˆ†åŒºï¼Œ15Gçš„åˆ†åŒºsdb2æ˜¯æ ‘è“æ´¾çš„ç³»ç»Ÿæ–‡ä»¶åˆ†åŒºã€‚ å¦‚æœä½¿ç”¨Centosæˆ–è€…å…¶ä»–linuxæ“ä½œç³»ç»Ÿï¼Œæœªè‡ªåŠ¨æŒ‚è½½SDå¡ï¼Œæˆ‘ä»¬åˆ™éœ€è¦æ‰‹åŠ¨è¿›è¡ŒæŒ‚è½½ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒæŒ‚è½½ï¼š $ cd /media $ sudo mkdir sdc1 sdc2 $ sudo mount /dev/sdc1 /media/sdc1 $ sudo mount /dev/sdc2 /media/sdc2 æŒ‚è½½å®Œæˆåå¦‚ä¸‹å›¾ä¸­æ‰€ç¤ºã€‚ å¤‡ä»½SDå¡ ä½¿ç”¨ dd å‘½ä»¤å¯ä»¥ç›´æ¥å¤‡ä»½SDå¡ã€‚æ¯”å¦‚æ ‘è“æ´¾çš„SDå¡çš„è·¯å¾„æ˜¯ /dev/sdc1 å’Œ /dev/sdc2 ï¼Œæ‰€ä»¥å¤‡ä»½æ•´ä¸ªSDå¡çš„è·¯å¾„å°±æ˜¯ /dev/sdcã€‚ è¾“å…¥å¤‡ä»½å‘½ä»¤ï¼š $ sudo dd if=/dev/sdc | gzip&gt;/home/lixinxing/raspberry.gz å…¶ä¸­å¤‡ä»½æ–‡ä»¶è¦ä¿å­˜çš„ä½ç½®ã€æ–‡ä»¶åå’Œ SDå¡çš„è·¯å¾„è¦æ ¹æ®å®é™…é€‰æ‹©ã€‚ è¿™ä¸ªå‘½ä»¤å¯ä»¥åœ¨å¤‡ä»½çš„åŒæ—¶å‹ç¼©é•œåƒå¤§å°ï¼Œå‹ç¼©å®Œæˆåé•œåƒæœ‰6.7G. ä¸‰ã€å°†æ ‘è“æ´¾é•œåƒè¿˜åŸå¤‡ä»½å®Œæˆåï¼Œå¦‚æœéœ€è¦è¿˜åŸæ ‘è“æ´¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•è¿›è¡Œã€‚ æ–¹æ³•ä¸€ï¼š åœ¨windowsç¯å¢ƒä¸‹ï¼Œå°†å¤‡ä»½æ–‡ä»¶è§£å‹ï¼Œç„¶åä½¿ç”¨ win32diskimager å°†å¤‡ä»½æ–‡ä»¶å†™å…¥åˆ°æ–°çš„SDå¡ã€‚ æ–¹æ³•äºŒï¼š åœ¨linuxç¯å¢ƒä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹æ­¥éª¤å°†å¤‡ä»½æ–‡ä»¶å†™å…¥åˆ°SDå¡ã€‚ 1. åˆ é™¤SDå¡åˆ†åŒºã€‚ ä½¿ç”¨ fdisk å‘½ä»¤å¯¹SDå¡æ ¼å¼åŒ– 2. å†™å…¥å¤‡ä»½æ–‡ä»¶ $ sudo gzip -dc /home/lixinxing/raspberry.gz | sudo dd of=/dev/sdc å…¶ä¸­å¤‡ä»½æ–‡ä»¶çš„ä½ç½®ã€æ–‡ä»¶åå’Œ SDå¡çš„è·¯å¾„è¦æ ¹æ®å®é™…é€‰æ‹©ã€‚ è¿™æ ·å°±å°†å¤‡ä»½è¿˜åŸåˆ°æ ‘è“æ´¾äº†ï¼Œå¯ä»¥å°†SDå¡æ’å…¥æ ‘è“æ´¾å¯åŠ¨ï¼ è½¬è½½åŸå¸–ï¼šåˆ¶ä½œæ ‘è‹ºæ´¾SDå¡å¤‡ä»½é•œåƒâ€”â€”æ ‘è‹ºæ´¾ç³»ç»Ÿå¤‡ä»½ä¸è¿˜åŸæŒ‡å—","tags":[]},{"title":"Linuxä¸‹ä½¿ç”¨Viæ—¶æ–¹å‘é”®å˜ä¹±ç ã€åˆ é™¤é”®ä¸èƒ½ä½¿ç”¨çš„è§£å†³æ–¹æ³•","date":"2018-10-23T16:33:00.000Z","path":"2018/10/23/10/","text":"Linuxä¸‹ä½¿ç”¨Viæ—¶æ–¹å‘é”®å˜ä¹±ç ã€åˆ é™¤é”®ä¸èƒ½ä½¿ç”¨åœ¨Linuxä¸‹ç¼–è¾‘ä¸€äº›æ–‡ä»¶ï¼Œè¿™å°±æ¶‰åŠåˆ°äº†Viè¿™ä¸ªç¼–è¾‘å™¨ã€‚åœ¨Linuxä¸‹ï¼Œåˆå§‹ä½¿ç”¨Viçš„æ—¶å€™æœ‰ä¸¤ä¸ªå…¸å‹çš„é—®é¢˜ï¼š åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ä½¿ç”¨æ–¹å‘é”®çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šä½¿å…‰æ ‡ç§»åŠ¨ï¼Œè€Œæ˜¯åœ¨å‘½ä»¤è¡Œä¸­å‡ºç°Aã€Bã€Cã€Då››ä¸ªå­—æ¯ï¼› å½“ç¼–è¾‘å‡ºç°é”™è¯¯ï¼Œæƒ³è¦åˆ é™¤æ—¶ï¼Œå‘ç°Backspaceé”®ä¸èµ·ä½œç”¨ï¼Œåªèƒ½ç”¨Deleteé”®æ¥åˆ é™¤ï¼› è¿™ä¸¤ä¸ªé—®é¢˜å¯¹äºæ–°æ‰‹æ¥è¯´æ˜¯å¾ˆè®¨åŒçš„ï¼Œä¸‹é¢æˆ‘å°±ç»™å¤§å®¶è¯´ä¸€ç§ä»ç½‘ä¸Šå¾—æ¥è€Œæˆ‘åˆåˆ‡èº«æœ‰æ•ˆçš„æ–¹æ³•ã€‚ ç¼–è¾‘/etc/vim/vimrc.tiny ç”±äº/etc/vim/vimrc.tinyçš„æ‹¥æœ‰è€…æ˜¯rootç”¨æˆ·ï¼Œæ‰€ä»¥è¦åœ¨rootçš„æƒé™ä¸‹å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚ æ–¹æ³•å¾ˆç®€å•ï¼šå¯ä»¥è¾“å…¥å‘½ä»¤â€œsuâ€ï¼Œç„¶åé”®å…¥å¯†ç è·å¾—rootæƒé™ï¼Œç„¶åå¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼›æˆ–è€…è¾“å…¥å‘½ä»¤â€œsudo vi/etc/vim/vimrc.tinyâ€ï¼Œè¾“å…¥å¯†ç åç›´æ¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚ ä¿®æ”¹ï¼š è‡³äºç¼–è¾‘çš„å†…å®¹ä¹Ÿæ˜¯è¶…çº§ç®€å•ï¼š vimrc.tinyæ–‡ä»¶ä¸­çš„å€’æ•°ç¬¬äºŒå¥è¯æ˜¯â€œset compatibleâ€ å°†â€œcompatibleâ€æ”¹ä¸ºâ€œnocompatibleâ€ï¼Œ è¿™æ ·éå…¼å®¹æ¨¡å¼å°±å¯ä»¥è§£å†³æ–¹å‘é”®å˜ABCDçš„é—®é¢˜äº†ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥è¦è§£å†³Backspaceé”®çš„é—®é¢˜ä¹Ÿéå¸¸ç®€å• å°±åœ¨åˆšæ‰é‚£å¥è¯çš„åé¢åŠ ä¸€å¥ï¼š set backspace=2 å˜æˆå¦‚ä¸‹æ‰€ç¤º set nocompatible set backspace=2 æ“ä½œå®Œæˆåï¼Œä¿å­˜å¹¶é€€å‡ºå°±å¯ä»¥äº†ã€‚ è½¬è½½åŸè´´ï¼šLinuxä¸‹ä½¿ç”¨Viæ—¶æ–¹å‘é”®å˜ä¹±ç ã€åˆ é™¤é”®ä¸èƒ½ä½¿ç”¨çš„è§£å†³æ–¹æ³•","tags":[]},{"title":"æ ‘è“æ´¾æœåŠ¡å™¨é…ç½®","date":"2018-10-23T09:30:00.000Z","path":"2018/10/23/9/","text":"æ ‘è“æ´¾ç³»ç»Ÿå®‰è£…ç°åœ¨è¶Šæ¥è¶Šå¤šçš„äººåœ¨ä½¿ç”¨æ ‘è“æ´¾ï¼Œè€Œæ‹¿åˆ°æ‰‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯ä¸ºè‡ªå·±çš„æ ‘è“æ´¾å®‰è£…ä¸€ä¸ªè‡ªå·±æƒ³è¦çš„ç³»ç»Ÿï¼Œç°åœ¨æˆ‘å°†è¯¦ç»†çš„è®²è¿°æ ‘è“æ´¾å®‰è£…ç³»ç»Ÿçš„æ­¥éª¤ ä¸‹è½½ä½ æ‰€è¦å®‰è£…çš„æ ‘è“æ´¾ç³»ç»Ÿï¼› è§£å‹å¹¶æå–å‡ºå…¶ä¸­çš„imgæ ¼å¼çš„é•œåƒæ–‡ä»¶ï¼› æ ¼å¼åŒ–SDå¡ï¼Œä½¿ç”¨â€œwin32diskimagerâ€è½¯ä»¶ï¼Œè¿›è¡Œé•œåƒçƒ§å½•ï¼› å°†çƒ§å½•å¥½çš„SDå¡æ’å…¥æ ‘è“æ´¾ï¼Œä¸Šç”µåå³å¯è‡ªåŠ¨å¯åŠ¨è¿è¡Œã€‚ ä¸‹é¢åˆ†æƒ…å†µè®¨è®ºæ ‘è“æ´¾å®‰è£…ä¸åŒç³»ç»Ÿæ—¶éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼š ä¸€ã€å®˜æ–¹ç³»ç»Ÿ Raspbianï¼šç³»ç»Ÿçƒ§å½•å®Œæˆåç›´æ¥è¿è¡Œå³å¯ã€‚ æ¡Œé¢ç‰ˆç³»ç»Ÿå¯ä»¥è¿æ¥æ˜¾ç¤ºå™¨è¿›è¡Œæ“ä½œï¼Œå’ŒUbuntuæ¡Œé¢ç‰ˆç±»ä¼¼ã€‚ è½»é‡ç‰ˆç³»ç»Ÿæ²¡æœ‰æ¡Œé¢ï¼Œå¯ä»¥æ˜¾ç¤ºå±æ“ä½œä¹Ÿå¯ä»¥ç›´æ¥SSHæ“ä½œï¼Œçœ‹ä¸ªäººçˆ±å¥½å’Œç¡¬ä»¶çŠ¶å†µã€‚ å¦‚æœæœ‰HDMIè¿æ¥çº¿å’Œå±å¹•ï¼Œå¯åŠ¨å®Œæˆåï¼Œå…ˆå¼€å¯SSHæœåŠ¡ã€‚(é»˜è®¤SSHæ˜¯ç¦ç”¨çš„) $ /etc/init.d/sshd start æˆ–è€…æ˜¯ /etc/init.d/ssh start $ netstat -antulp | grep ssh ##æŸ¥çœ‹SSHæ˜¯å¦è¿è¡Œ è®¾ç½®SSHå¼€æœºè‡ªåŠ¨å¯åŠ¨ $ vi /etc/rc.local ## viæ‰“å¼€æ–‡ä»¶å¹¶åŠ å…¥ä¸‹é¢æŒ‡ä»¤åï¼Œä¿å­˜ã€‚(æ³¨ï¼šä¸Šä¸‹æ–‡sshæˆ–sshdæ˜¯ç»Ÿä¸€çš„) $ service sshd start æˆ– /etc/init.d/sshd start æ²¡æœ‰HDMIä¸”æ²¡æœ‰ç½‘çº¿è¿æ¥æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ WiFié…ç½®æ–‡ä»¶ å°†åˆ·å¥½ Raspbian ç³»ç»Ÿçš„ SD å¡ç”¨ç”µè„‘è¯»å–ã€‚åœ¨ boot åˆ†åŒºï¼Œä¹Ÿå°±æ˜¯æ ‘è“æ´¾çš„ /boot ç›®å½•ä¸‹æ–°å»º wpa_supplicant.conf æ–‡ä»¶ æŒ‰ç…§ä¸‹é¢çš„å‚è€ƒæ ¼å¼å¡«å…¥å†…å®¹å¹¶ä¿å­˜ wpa_supplicant.conf æ–‡ä»¶ã€‚ ## å¼€å§‹ -- ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev update_config=1 country=CN network={ ssid=&quot;WiFi A name&quot; psk=&quot;password&quot; priority=2 ## è¿æ¥ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ } network={ ssid=&quot;WiFi B name&quot; psk=&quot;password&quot; scan_ssid=1 ## è®¾ç½®ä¸ºWiFiåœ¨éšè—æ¨¡å¼æ—¶ä¾ç„¶å¯ä»¥è¿æ¥ priority=1 ## è¿æ¥ä¼˜å…ˆçº§ } -- ç»“æŸ ## WiFiåŠ å¯†æ¨¡å¼ key_mgmt=NONE ##æ— å¯†ç è¿æ¥ æˆ– WEPåŠ å¯† key_mgmt=WPA-PSK ##ä½¿ç”¨WPA/WPA2åŠ å¯† äºŒã€CentOSç³»ç»Ÿ armv7hlç‰ˆæ²¡åŠæ³•ï¼Œåªèƒ½è¿æ¥æ˜¾ç¤ºå™¨è¿›è¡Œæ“ä½œ æ‰«æï¼šnmcli d wifi é“¾æ¥ï¼šnmcli d wifi connect fenggese password &apos;meiyoumima&apos; åˆ é™¤ï¼šnmcli c del UUIDå·ç  è¿æ¥å†å²UUIDï¼šnmcli c ä¸‰ã€Ubuntuç³»ç»Ÿç›®å‰Ubuntuå®˜ç½‘ä¸Šæš‚æ—¶æ²¡æœ‰3B+çš„ç³»ç»Ÿï¼Œåªèƒ½ä¿®æ”¹å¯åŠ¨æ–‡ä»¶è¿›è¡ŒåŠ è½½å®‰è£…ã€‚ä½†æ˜¯æœ¬äººæµ‹è¯•æ—¶ä¸€ç›´å¡åœ¨ network serviceè¿›ç¨‹ä¸‹ï¼Œæ— æ³•è¿›å…¥ç³»ç»Ÿã€‚å°±ç®—å¯ä»¥è¿›å…¥ç³»ç»Ÿï¼Œæœ¬åœ°ç½‘å¡å’Œæ— çº¿ç½‘å¡ä¹Ÿæ— æ³•å·¥ä½œï¼Œåªèƒ½å•æœºã€‚ æ ‘è“æ´¾æœåŠ¡å™¨ç»„ä»¶å®‰è£…ä¸€ã€JDKå®‰è£…JDKå®‰è£…æ–¹å¼ä¸Ubuntuæ¡Œé¢ç‰ˆç±»ä¼¼ï¼Œä¸‹è½½ã€è§£å‹ã€é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ“ä½œæ–¹å¼é€šç”¨ã€‚ JDKå¿…é¡»é€‰æ‹©â€œlinux-arm32-vfp-hfltâ€ç‰ˆæœ¬ã€‚ äºŒã€Tomcatå®‰è£…TomcatæœåŠ¡å™¨å¯ä»¥ç›´æ¥æ‹·è´é€šç”¨ç‰ˆçš„æ–‡ä»¶ï¼Œç„¶åæ³¨æ„ä½¿ç”¨â€œ**.shâ€è„šæœ¬è¿›è¡Œå¼€å¯å’Œå…³é—­ã€‚ å¸¸è§é—®é¢˜å’Œé”™è¯¯ æç¤ºéœ€è¦å®‰è£…â€œJAVA_HOMEâ€ç¯å¢ƒ å¦‚æœJDKæ²¡æœ‰é…ç½®ï¼Œåˆ™éœ€è¦é…ç½®JDKå¹¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåˆ‡è®°è®¾ç½®å¥½ä»¥åï¼Œåˆ·æ–°å½“å‰ç¯å¢ƒå˜é‡ã€‚ å¦‚æœJDKå·²é…ç½®ï¼Œä½¿ç”¨ â€œsudo ./startup.shâ€ æ–¹å¼å¼€å¯ä¼šå¼•èµ·æ­¤é—®é¢˜ã€‚å»ºè®®ä½¿ç”¨érootç”¨æˆ·è¿›è¡Œæ“ä½œã€‚ érootç”¨æˆ·æ“ä½œæ—¶ï¼Œå¦‚æœæç¤ºâ€œæƒé™ä¸å¤Ÿâ€æˆ–è€…â€œnot foundâ€çš„æƒ…å†µï¼Œå¯ä»¥ç»™TomcatæœåŠ¡å™¨æ•´ä¸ªæ–‡ä»¶èµ‹äºˆâ€œ777â€æƒé™ $ chomd -R 777 apache-tomcat-***(Tomcatæ–‡ä»¶å¤¹åç§°) å¯åŠ¨æŠ¥é”™ï¼šjava.net.BindException: Permission denied :80 åœ¨æŸäº›ç³»ç»Ÿä¸‹åªæœ‰rootç”¨æˆ·æ‰å¯ä»¥è®¿é—®1024ä»¥ä¸‹çš„ç«¯å£å·ï¼Œå…¶ä½™ç”¨æˆ·ä¸èƒ½è®¿é—®ã€‚å› æ­¤ä¼šæŠ¥é”™ã€‚ è§£å†³æ–¹æ³•ï¼š TomcatæœåŠ¡å™¨è®¾ç½®1024ä»¥ä¸Šçš„ç«¯å£å·ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å¯¹ç«¯å£è¿›è¡Œé‡æ˜ å°„ï¼š $ iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080 æ‰§è¡Œservice iptables save;å°†ä¿®æ”¹çš„iptablesä¿¡æ¯ä¿å­˜èµ·æ¥ï¼Œrestartä¼šç”Ÿæ•ˆï¼Œå¹¶ä¸”åŠ å…¥chkconfigé‡å¯ç”Ÿæ•ˆï¼š $ service iptables save; $ chkconfig --level 2345 iptables on; $ chkconfig --add iptables; å®æ—¶æŸ¥çœ‹Tomcatçš„logsä¿¡æ¯ è¿›å…¥Tomcatå®‰è£…ç›®å½•ï¼Œæ‰¾åˆ°logsæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°±ä¼šå®æ—¶æ˜¾ç¤ºlogsä¿¡æ¯ï¼š $ tail -f catalina.out å…³é—­logsä¿¡æ¯ï¼Œåªéœ€ Ctrl + C é€€å‡ºå³å¯ã€‚ ä¸‰ã€MariaDBå®‰è£…ç”±äºç›®å‰centosç³»ç»Ÿé»˜è®¤çš„æ•°æ®åº“æºæ˜¯MariaDBï¼Œå¹¶ä¸”MariaDBæ•°æ®åº“ä¸MySQLæ•°æ®åº“å®Œå…¨å…¼å®¹ï¼Œå¤§æœ‰æ›¿ä»£MySQLçš„æ„æ€ã€‚è€Œä¸”æ ‘è“æ´¾ä¸‹å®‰è£…MySQLå¼‚å¸¸çš„éº»çƒ¦(yumæºæ²¡æœ‰ï¼Œç¼–è¯‘å¡åœ¨78%æ­»æ´»ä¸é€šè¿‡)ã€‚å› æ­¤ï¼Œå®‰è£…MariaDBæ¥æ›¿ä»£MySQLã€‚ å®‰è£…MariaDB $ yum -y install mariadb mariadb-server å®‰è£…å®ŒæˆMariaDBï¼Œé¦–å…ˆå¯åŠ¨MariaDB $ systemctl start mariadb è®¾ç½®å¼€æœºå¯åŠ¨ $ systemctl enable mariadb æ¥ä¸‹æ¥è¿›è¡ŒMariaDBçš„ç›¸å…³ç®€å•é…ç½® é”®å…¥å‘½ä»¤ï¼š $ mysql_secure_installation é¦–å…ˆæ˜¯è®¾ç½®å¯†ç ï¼Œä¼šæç¤ºå…ˆè¾“å…¥å¯†ç  Enter current password for root (enter for none):&lt;â€“åˆæ¬¡è¿è¡Œç›´æ¥å›è½¦ è®¾ç½®å¯†ç  Set root password? [Y/n] &lt;â€“ æ˜¯å¦è®¾ç½®rootç”¨æˆ·å¯†ç ï¼Œè¾“å…¥yå¹¶å›è½¦æˆ–ç›´æ¥å›è½¦ New password: &lt;â€“ è®¾ç½®rootç”¨æˆ·çš„å¯†ç  Re-enter new password: &lt;â€“ å†è¾“å…¥ä¸€æ¬¡ä½ è®¾ç½®çš„å¯†ç  å…¶ä»–é…ç½® Remove anonymous users? [Y/n] &lt;â€“ æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ·ï¼Œå›è½¦ Disallow root login remotely? [Y/n] &lt;â€“æ˜¯å¦ç¦æ­¢rootè¿œç¨‹ç™»å½•,å›è½¦, Remove test database and access to it? [Y/n] &lt;â€“ æ˜¯å¦åˆ é™¤testæ•°æ®åº“ï¼Œå›è½¦ Reload privilege tables now? [Y/n] &lt;â€“ æ˜¯å¦é‡æ–°åŠ è½½æƒé™è¡¨ï¼Œå›è½¦ é…ç½®MariaDBçš„å­—ç¬¦é›† æ–‡ä»¶/etc/my.cnf vi /etc/my.cnf åœ¨[mysqld]æ ‡ç­¾ä¸‹æ·»åŠ  init_connect=&apos;SET collation_connection = utf8_unicode_ci&apos; init_connect=&apos;SET NAMES utf8&apos; character-set-server=utf8 collation-server=utf8_unicode_ci skip-character-set-client-handshake æ–‡ä»¶/etc/my.cnf.d/client.cnf vi /etc/my.cnf.d/client.cnf åœ¨[client]ä¸­æ·»åŠ  default-character-set=utf8 æ–‡ä»¶/etc/my.cnf.d/mysql-clients.cnf vi /etc/my.cnf.d/mysql-clients.cnf åœ¨[mysql]ä¸­æ·»åŠ  default-character-set=utf8 å…¨éƒ¨é…ç½®å®Œæˆï¼Œé‡å¯mariadb systemctl restart mariadb ä¹‹åè¿›å…¥MariaDBæŸ¥çœ‹å­—ç¬¦é›† MariaDB [(none)]&gt; show variables like &quot;%character%&quot;;show variables like &quot;%collation%&quot;; å…¶ä»–æ“ä½œä»¥åŠè¿æ¥å‡ä¸MySQLæ•°æ®åº“ä¸€è‡´ã€‚","tags":[]},{"title":"Windowsä¸‹MySQLè§£å‹ç‰ˆå®‰è£…","date":"2018-06-16T08:28:58.000Z","path":"2018/06/16/8/","text":"Windowsä¸‹MySQLè§£å‹ç‰ˆå®‰è£…ï¼š1. å®‰è£…ç›®å½•ä¸‹åˆ›å»ºmy.inié…ç½®æ–‡ä»¶ï¼š#ä»£ç å¼€å§‹ [Client] #è®¾ç½®3306ç«¯å£ port = 3306 [mysqld] #è®¾ç½®3306ç«¯å£ port = 3306 # è®¾ç½®mysqlçš„å®‰è£…ç›®å½• basedir=E:\\mysql-5.7.19-winx64\\mysql-5.7.19-winx64 # è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½• datadir=E:\\mysql-5.7.19-winx64\\mysql-5.7.19-winx64\\data # å…è®¸æœ€å¤§è¿æ¥æ•° max_connections=1000 # æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›† character-set-server=utf8 # åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“ default-storage-engine=INNODB sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES #skip-grant-tables #å¦‚æœæƒ³é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®default_authentication_pluginé¡¹ã€‚ [mysqld] default_authentication_plugin=mysql_native_password [mysql] # è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›† default-character-set=utf8 #ä»£ç ç»“æŸ 2. ç”Ÿæˆdataæ–‡ä»¶å¤¹ï¼šæœ‰å¯†ç ï¼š mysqld --initialize --user=mysql --console 6m&gt;m0M#*.e_S æ— å¯†ç ï¼š mysqld --initialize-insecure 3. å®‰è£…æœåŠ¡ï¼šmysqld -install 4. è®¾ç½®ã€ä¿®æ”¹å¯†ç ï¼šalter user &apos;root&apos;@&apos;localhost&apos; identified by &apos;youpassword&apos;; # å¦‚æœNavicatã€jdbcè¿æ¥æŠ¥é”™ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹å¼å¤„ç†ï¼š alter user &apos;root&apos;@&apos;localhost&apos; identified with mysql_native_password by &apos;youpassword&apos;; 5. MySQLç”¨æˆ·ç®¡ç†ï¼š ç®¡ç†å‘˜rootçš„hostæ˜¯localhostï¼Œä»£è¡¨ä»…é™localhostç™»å½•è®¿é—®ã€‚ å¦‚æœè¦å…è®¸å¼€æ”¾å…¶ä»–ipç™»å½•ï¼Œåˆ™éœ€è¦æ·»åŠ æ–°çš„hostã€‚ å¦‚æœè¦å…è®¸æ‰€æœ‰ipè®¿é—®ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹æˆâ€œ%â€ # åˆ›å»ºç”¨æˆ·ï¼š create user &apos;xxh&apos;@&apos;%&apos; identified with mysql_native_password by &apos;xxh123!@#&apos;; # æ£€æŸ¥ç”¨æˆ· (éœ€è¦æ³¨æ„ï¼šmysql8.0åŠ å¯†æ–¹å¼ä¿®æ”¹äº†) select user, host, plugin, authentication_string from user; # æˆæƒæ‰€æœ‰æƒé™ æˆæƒè¿œç¨‹æ•°æ®åº“ GRANT ALL PRIVILEGES ON *.* TO &apos;xxh&apos;@&apos;%&apos;ï¼› # æˆæƒåŸºæœ¬çš„æŸ¥è¯¢ä¿®æ”¹æƒé™ï¼ŒæŒ‰éœ€æ±‚è®¾ç½® GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON *.* TO &apos;xxh&apos;@&apos;%&apos;; # æŸ¥çœ‹ç”¨æˆ·æƒé™ show grants for &apos;xxh&apos;@&apos;%&apos;; 6. Navicatè¿æ¥æ•°æ®åº“MySQLæŠ¥é”™2059 è§£é‡ŠåŸå› ï¼šæ®è¯´ï¼Œmysql8 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­åŠ å¯†è§„åˆ™æ˜¯mysql_native_password,è€Œåœ¨mysql8ä¹‹å,åŠ å¯†è§„åˆ™æ˜¯caching_sha2_passwordã€‚ è§£å†³é—®é¢˜æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯å‡çº§navicaté©±åŠ¨ï¼Œä¸€ç§æ˜¯æŠŠmysqlç”¨æˆ·ç™»å½•å¯†ç åŠ å¯†è§„åˆ™è¿˜åŸæˆmysql_native_passwordã€‚ ç¬¬äºŒç§æ–¹å¼ å‘½ä»¤è¡Œè¿›å…¥MySQLæ•°æ®åº“ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œé€è¡Œè¾“å…¥ï¼Œæ¯è¡ŒååŠ ä¸€ä¸ªå›è½¦ ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos; PASSWORD EXPIRE NEVER; #ä¿®æ”¹åŠ å¯†è§„åˆ™ ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;password&apos;; #æ›´æ–°ä¸€ä¸‹ç”¨æˆ·çš„å¯†ç  FLUSH PRIVILEGES; #åˆ·æ–°æƒé™ ç„¶åæŒ‰ç†è¯´åº”è¯¥æ˜¯å¯ä»¥äº†ï¼Œç¥å›å¥½è¿ã€‚ 7. å¸è½½mysql å¸è½½æœåŠ¡ï¼š mysqld remove åœ¨æ³¨å†Œè¡¨é‡Œæ¸…é™¤ä½ çš„MYSQLæœåŠ¡ï¼š ç‚¹å‡»å¼€å§‹â†’è¿è¡Œâ†’è¾“å…¥regeditï¼Œç„¶åæœ‰å‡ ä¸ªåœ°æ–¹: 1. HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Services\\Eventlog\\Application\\MySQL ç›®å½•åˆ é™¤ 2. HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet002\\Services\\Eventlog\\Application\\MySQL ç›®å½•åˆ é™¤ 3. HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Eventlog\\Application\\MySQL ç›®å½•åˆ é™¤","tags":[]},{"title":"CentOS 7 ä¸‹é…ç½®IPã€SSHã€MySQL","date":"2018-03-19T11:40:00.000Z","path":"2018/03/19/7/","text":"CentOS 7CentOS 7 æ˜¯ç›®å‰å›½å†…ä¸»æµçš„äº‘æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„ç”Ÿäº§ç¯å¢ƒã€‚æœ¬æ–‡ç®€å•ä»‹ç»centos7çš„åˆå§‹åŒ–ä½¿ç”¨å’Œç®€å•é…ç½®ã€‚ æœ¬æ–‡ä¸­CentOS 7ç³»ç»Ÿå®‰è£…åœ¨è™šæ‹Ÿæœºä¸­ï¼Œå…³äºå®‰è£…æ–¹æ³•å’Œæ­¥éª¤ä¸å†èµ˜è¿°ã€‚ä¸æ‡‚çš„å¯ä»¥è‡ªå·±æŸ¥æ‰¾èµ„æ–™ï¼Œæœ¬æ–‡ä¸æ˜¯é‡ç‚¹ã€‚ CentOS 7 é…ç½®IPåœ°å€CentOS 7 å®‰è£…å®Œæˆåï¼Œé»˜è®¤æ²¡æœ‰å¼€å¯ç½‘ç»œæœåŠ¡ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé…ç½®ã€‚ è¿›å…¥ç½‘ç»œé…ç½®æ–‡ä»¶ç›®å½• $ cd /etc/sysconfig/network-scripts/ æ‰“å¼€å¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶ $ ls //æŸ¥çœ‹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ $ vi ifcfg-ens33 //æ‰“å¼€ä»¥ifcfg-enå¼€å¤´çš„é…ç½®æ–‡ä»¶ è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š HWADDR=00:0C:29:8D:24:73 #è¦ä¿æŒä¸ifconfigå‘½ä»¤ä¸‹æŸ¥çœ‹çš„macåœ°å€ä¸€è‡´ TYPE=Ethernet BOOTPROTO=static #å¯ç”¨é™æ€IPåœ°å€ï¼ŒåŠ¨æ€ä¸ºdhcp DEFROUTE=yes PEERDNS=yes PEERROUTES=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no NAME=eno16777736 #ç½‘å¡åç§° UUID=ae0965e7-22b9-45aa-8ec9-3f0a20a85d11 ONBOOT=yes #å¼€å¯è‡ªåŠ¨å¯ç”¨ç½‘ç»œè¿æ¥ IPADDR0=192.168.0.220 #è®¾ç½®IPåœ°å€ PREFIXO0=255.255.255.0 #è®¾ç½®å­ç½‘æ©ç  GATEWAY0=192.168.0.1 #è®¾ç½®ç½‘å…³ DNS1=8.8.8.8 #è®¾ç½®ä¸»DNS DNS2=8.8.4.4 #è®¾ç½®å¤‡DNS ä¿å­˜é€€å‡ºåï¼Œé‡å¯ç½‘ç»œæœåŠ¡ $ :wq! #é€€å‡ºå¹¶ä¿å­˜ vi ç¼–è¾‘å™¨ä½¿ç”¨æ–¹æ³•ï¼š å¯ç”¨ç¼–è¾‘ï¼ŒæŒ‰ä¸‹ insert é”® é€€å‡ºç¼–è¾‘çŠ¶æ€ï¼Œè·³åˆ°å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹ Esc é”® å‘½ä»¤æç¤ºï¼š :w ä¿å­˜æ–‡ä»¶ä½†ä¸é€€å‡ºvi :w file å°†ä¿®æ”¹å¦å¤–ä¿å­˜åˆ°fileä¸­ï¼Œä¸é€€å‡ºvi :w! å¼ºåˆ¶ä¿å­˜ï¼Œä¸æ¨å‡ºvi :wq ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi :wq! å¼ºåˆ¶ä¿å­˜æ–‡ä»¶ï¼Œå¹¶é€€å‡ºvi :q ä¸ä¿å­˜æ–‡ä»¶ï¼Œé€€å‡ºvi :q! ä¸ä¿å­˜æ–‡ä»¶ï¼Œå¼ºåˆ¶é€€å‡ºvi :e! æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼Œä»ä¸Šæ¬¡ä¿å­˜æ–‡ä»¶å¼€å§‹å†ç¼–è¾‘ é‡å¯æœåŠ¡åï¼Œå¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯é…ç½®æ–‡ä»¶çš„ç¼–å†™å‡ºç°é—®é¢˜ï¼Œä»”ç»†æŸ¥å®ï¼Œç¡®ä¿å¤§å°å†™æ­£ç¡®å’Œmacåœ°å€ä¸€è‡´ã€‚ Restarting network (via systemctl): Job for network.service failed. See &apos;systemctl status network.service&apos; and &apos;journalctl -xn&apos; for details. è¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ç½‘å¡ç›¸å…³çš„è¯¦ç»†æ—¥å¿— $ cat /var/log/messages | grep network CentOS 7 ä¿®æ”¹ä¸»æœºå $ vi /etc/hostname æ‰“å¼€åï¼Œå°†localhost.localdomain ä¿®æ”¹ä¸ºä½ è¦ä¿®æ”¹çš„åç§° $ vi /etc/hosts 127.0.0.1 localhost xxx #ä¿®æ”¹xxxä¸ºä½ è¦ä¿®æ”¹çš„åç§° $ :wq! #ä¿å­˜å¹¶é€€å‡º $ shutdown -r now #ç«‹å³é‡å¯ç³»ç»Ÿ CentOS 7 å®‰è£…opensshæœåŠ¡ æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†ç›¸å…³è½¯ä»¶ï¼š $ rpm -qa|grep -E â€œopensshâ€ æ˜¾ç¤ºç»“æœå«æœ‰ä»¥ä¸‹ä¸‰ä¸ªè½¯ä»¶ï¼Œåˆ™è¡¨ç¤ºå·²ç»å®‰è£…ï¼Œå¦åˆ™éœ€è¦å®‰è£…ç¼ºå¤±çš„è½¯ä»¶ openssh-ldap-6.6.1p1-35.el7_3.x86_64 openssh-clients-6.6.1p1-35.el7_3.x86_64 openssh-6.6.1p1-35.el7_3.x86_64 openssh-askpass-6.6.1p1-35.el7_3.x86_64 openssh-server-6.6.1p1-35.el7_3.x86_64 openssh-keycat-6.6.1p1-35.el7_3.x86_64 openssh-server-sysvinit-6.6.1p1-35.el7_3.x86_64 å®‰è£…openssh-serverï¼š $ sudo yum install openssh* æ³¨å†Œä½¿ç”¨æœåŠ¡ï¼š $ sudo systemctl enable sshd $ sudo systemctl start sshd or: $ sudo service sshd start æ‰“å¼€é˜²ç«å¢™çš„22ç«¯å£ $ sudo firewall-cmd --zone=public --add-port=22/tcp --permanent $ sudo service firewalld restart $ systemctl restart firewalld.service æ³¨ï¼šç¦æ­¢firewallå¼€æœºå¯åŠ¨ä¸ºï¼šsystemctl disable firewalld.service CentOS 7 å®‰è£… MySQLå› ä¸ºCentOS 7 çš„yumä¸­æ²¡æœ‰MySQLçš„æºï¼Œè¢«mariaDBä»£æ›¿äº†ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸‹è½½mysqlçš„repoæºï¼Œå¯ä»¥å»MySQLå®˜ç½‘æ‰¾æœ€æ–°çš„repoæºåœ°å€ ç‚¹å‡»æ­¤å¤„æŸ¥æ‰¾æœ€æ–°çš„MySQLçš„repoæºåœ°å€ é¦–å…ˆï¼Œä½¿ç”¨wgetä¸‹è½½repoæºã€‚å¦‚æœæ²¡æœ‰wgetï¼Œå®‰è£…å³å¯ $ yum install wget #å®‰è£…wgetï¼Œå¦‚æœå·²å®‰è£…ï¼Œå¯å¿½ç•¥ $ wget https://repo.mysql.com//mysql57-community-release-el7-11.noarch.rpm #å®‰è£…MySQL RPMåŒ… $ yum install mysql-community-server #å®‰è£…MySQL å®‰è£…æˆåŠŸåï¼Œé‡å¯MySQLæœåŠ¡ $ service mysqld restart #å¦‚æœä¸è¡Œï¼Œè¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ $ systemctl restart mysqld.service åˆšå¼€å§‹å®‰è£…çš„Mysql5.7æ˜¯ä¼šéšæœºç”Ÿæˆä¸€ä¸ªrootå¯†ç çš„ï¼Œè¦å…ˆæ‰¾åˆ°è¿™ä¸ªéšæœºå¯†ç ï¼Œç„¶åæ”¹æ–°å¯†ç ã€‚ é€šè¿‡grepå‘½ä»¤æŸ¥æ‰¾éšæœºrootå¯†ç  $ grep â€œpasswordâ€ /var/log/mysqld.log æ ¹æ®è¿”å›ç»“æœ 2018-03-19T07:38:12.945057Z 1 [Note] A temporary password is generated for root@localhost: dlA42dmP;+QJ root@localhost: ä¹‹åçš„æ— è§„åˆ™å­—ç¬¦ä¸²å³ä¸ºç”Ÿæˆçš„éšæœºå¯†ç ã€‚ åŒæ ·ï¼Œå¯ä»¥å» /var/log ç›®å½•ä¸‹ï¼Œæ‰“å¼€ mysqld.log æ–‡ä»¶æ¥æŸ¥çœ‹å¯†ç ã€‚ ä¸´æ—¶å¯†ç ç™»å½•åï¼Œéœ€è¦ä¿®æ”¹rootå¯†ç æ‰èƒ½è¿›è¡Œå…¶ä»–æ“ä½œï¼š $ SET password=PASSWORD(â€œMysql123â€); $ ALTER USER â€˜rootâ€˜@â€™localhostâ€™ IDENTIFIED BY â€˜Mysql123â€™; ä»¥ä¸Šä¸¤ç§å¯†ç ä¿®æ”¹æ–¹å¼å‡å¯ä½¿ç”¨ï¼Œä½†æ˜¯è¦æ³¨æ„å¯†ç è§„åˆ™é™åˆ¶ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š ERROR 1819 (HY000): Your password does not satisfy the current policy requirements å¯†ç ä¿®æ”¹æˆåŠŸåï¼Œå¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹å¯†ç ç­–ç•¥ æŸ¥çœ‹å½“å‰å¯†ç ç­–ç•¥ $ show variables like â€˜%password%â€™; ä¿®æ”¹ç­–ç•¥ï¼ˆåœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹è¯­å¥ï¼‰ $ vi /etc/my.conf æ·»åŠ å¦‚ä¸‹æ¡ä»¶ï¼š validate_password = off è¯´æ˜ï¼šoff æ˜¯ å…³é—­ï¼› 0 æ˜¯ LOWï¼› 1 æ˜¯ MEDIUMï¼› 2 æ˜¯ STRONG å¦å¤–ï¼ŒMySQLå®˜ç½‘å¯†ç ç­–ç•¥è¯¦ç»†è¯´æ˜ï¼Œå¯ç‚¹å‡»æ­¤å¤„è¿›è¡ŒæŸ¥çœ‹ ä¿®æ”¹å®Œå¯†ç è§„åˆ™å(å¯æ”¹å¯ä¸æ”¹ï¼Œæ ¹æ®é¡¹ç›®å¯¹å®‰å…¨çš„éœ€æ±‚è€Œå®š)ï¼Œæ·»åŠ ä¸€ä¸ªå¯ä»¥è¿œç¨‹è®¿é—®çš„ç”¨æˆ·ï¼š $ mysql&gt;grant all on *.* to username@&apos;%&apos; identified by &apos;password&apos;; æœ€åä¸è¦å¿˜è®°æ·»åŠ é˜²ç«å¢™çš„3306ç«¯å£ï¼Œç”¨äºæ‰“å¼€æ•°æ®åº“çš„è¿œç¨‹è®¿é—®ï¼š $ firewall-cmd --zone=public --add-port=3306/tcp --permanet $ systemctl restart firewalld.service #é‡å¯é˜²ç«å¢™ä½¿è®¾ç½®ç”Ÿæ•ˆ ä½™ä¸‹æ­¥éª¤å¯å‚è€ƒå¦ä¸€ç¯‡æ–‡ç« ï¼Œç‚¹å‡»æ­¤å¤„è·³è½¬","tags":[]},{"title":"Ubuntuä¸‹é…ç½®SSHç™»å½•","date":"2018-03-16T14:55:56.000Z","path":"2018/03/16/6/","text":"Ubuntuä¸‹é…ç½®SSHç™»å½•ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¸€ä¸ªå¥½çš„è¿œç¨‹è¿æ¥å·¥å…·æ˜¯ååˆ†å¿…è¦çš„ã€‚xshellå°±æ˜¯ä¸é”™çš„è¿œç¨‹sshå·¥å…·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰å¿…è¦é…ç½®è¿œç¨‹LinuxæœåŠ¡å™¨çš„sshè¿œç¨‹è¿æ¥æœåŠ¡ã€‚ å®‰è£…SHHæœåŠ¡Ubuntuä¸‹é»˜è®¤å®‰è£…äº†sshå®¢æˆ·ç«¯ openssh-clientï¼Œè¿œç¨‹æœåŠ¡å™¨éå¿…é¡»å®‰è£…ï¼Œäº†è§£ä¸€ä¸‹å³å¯ã€‚ $ sudo apt-get install openssh-client é‡ç‚¹æ˜¯è¦å®‰è£…sshæœåŠ¡ç«¯ openssh-server $ sudo apt-get install openssh-server å®‰è£…æˆåŠŸåï¼ŒsshæœåŠ¡é»˜è®¤å¯åŠ¨ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨è¿œç¨‹Linuxä¸»æœºçš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè¿œç¨‹ç™»å½•äº†ã€‚ è®¾ç½®ä½¿ç”¨SSH keyç™»å½•é¦–å…ˆéœ€è¦ç”Ÿæˆsshå¯†é’¥å¯¹ï¼š $ ssh-keygen -t rsa -P â€œâ€ ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è¾“å…¥å¯†ç ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å›è½¦ï¼Œå¯†ç ç½®ç©ºï¼Œçœ‹ä¸ªäººå¯¹å®‰å…¨å·¥ä½œçš„éœ€æ±‚ç¨‹åº¦è€Œå®šã€‚ åœ¨ /home/user/.ssh ç›®å½•ä¸‹ï¼Œå°†ç”Ÿæˆçš„å…¬é’¥è¿½åŠ åˆ° authorized_keys æ–‡ä»¶ä¸­ $ cd /home/user/ $ cat .ssh/id_rsa.pub &gt;&gt; .ssh/authorized_keys æ³¨æ„ï¼šæ­¤å¤„å†™å…¥çš„æ˜¯ç”Ÿæˆçš„å…¬é’¥æ–‡ä»¶ï¼Œè€Œéç§é’¥ï¼ å¦‚æœ .sshæ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰ authorized_keys æ–‡ä»¶ä¹Ÿæ— æ‰€è°“ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç ä¹‹åï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆã€‚ ç»™ authorized_keys æ–‡ä»¶è®¾ç½®æƒé™ï¼š $ chmod 600 .ssh/authorized_keys ç„¶åå°±å¯ä»¥é€šè¿‡sshå·¥å…·ï¼Œè¾“å…¥ç”¨æˆ·åå¹¶ä¸”åŠ è½½ç”Ÿæˆçš„ç§é’¥è¿›è¡Œç™»å½•è¿œç¨‹æœåŠ¡å™¨äº†ã€‚ è®¾ç½®SSHåªå…è®¸è¿œç¨‹SSH keyè¿æ¥æœ‰æ—¶å€™ä¸ºäº†ä¿è¯è¿œç¨‹è¿æ¥çš„å®‰å…¨æ€§ï¼ŒæœåŠ¡å™¨ä¼šè®¾ç½®å–æ¶ˆç”¨æˆ·å+å¯†ç è¿æ¥çš„ç»„åˆã€‚ åœ¨ /etc/ssh ç›®å½•ä¸‹ï¼Œè®¾ç½®æ–¹å¼ä¸ºï¼š $ cd /etc/ssh $ sudo gedit sshd_conf æ‰¾åˆ°æ–‡æœ¬ä¸­çš„ PasswordAuthentication yes å­—æ®µï¼Œå°† yes æ”¹æˆ no ï¼Œä¿å­˜åï¼Œé‡å¯sshæœåŠ¡å³å¯ç«‹å³ç”Ÿæ•ˆã€‚ $ service ssh restart è¿™æ ·å°±å®ç°äº†æœ€å¤§åŒ–å®‰å…¨æ€§èƒ½çš„sshè¿œç¨‹è¿æ¥æœåŠ¡ã€‚ é…ç½®å¥½äº†ä¹‹åï¼Œå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨xshellåœ¨Windowsç³»ç»Ÿä¸‹è‡ªç”±çš„ç®¡ç†è¿œç¨‹Linuxä¸»æœºäº†ã€‚ Linuxç³»ç»Ÿä¸‹æ–‡ä»¶(å¤¹)æƒé™é—®é¢˜åœ¨ä½¿ç”¨xshellè¿›è¡Œæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°â€œpermission is not allowedâ€çš„æƒ…å†µï¼Œè¿™æ˜¯ç”±äºLinuxä¸‹ï¼Œæ–‡ä»¶(å¤¹)çš„ç”¨æˆ·æƒé™æ§åˆ¶å¯¼è‡´çš„ã€‚å‡ºç°æ­¤é—®é¢˜æ—¶ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ³•ï¼š å¯ä»¥é€‰æ‹©ä½¿ç”¨ root æƒé™ç”¨æˆ·ç™»å½•æ“ä½œæ–‡ä»¶(å¤¹)ï¼› ä½¿ç”¨chmodä¿®æ”¹æ–‡ä»¶(å¤¹)æƒé™ï¼š $ chmod 777 â€œè¦ä¿®æ”¹çš„æ–‡ä»¶(å¤¹)â€ # 777è¡¨ç¤ºä»»æ„ç”¨æˆ·å‡å¯è®¿é—® $ chmod -R 777 â€œè¦ä¿®æ”¹çš„æ–‡ä»¶å¤¹â€ #é€’å½’è®¾ç½®æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æƒé™ æ³¨æ„ï¼šæœ¬æ–‡ä¸­ /home/user/ ä¸­ï¼Œuseræ–‡ä»¶å¤¹ä»£æŒ‡çš„æ˜¯å½“å‰Linuxç™»å½•ç”¨æˆ·çš„ç”¨æˆ·æ–‡ä»¶å¤¹ï¼Œè€Œéä¸º user åç§°çš„æ–‡ä»¶å¤¹ã€‚","tags":[]},{"title":"Ubuntuä¸‹å®‰è£…jdkå¹¶é…ç½®ç¯å¢ƒå˜é‡","date":"2018-03-16T11:06:56.000Z","path":"2018/03/16/4/","text":"Ubuntuä¸‹å®‰è£…jdkå¹¶é…ç½®ç¯å¢ƒå˜é‡æ¯æ¬¡é‡æ–°å®‰è£…Ubuntuæ—¶éƒ½è¦é‡æ–°å®‰è£…jdkå’Œé…ç½®ç¯å¢ƒï¼Œå› æ­¤åœ¨æ­¤ä¸“é—¨è®°å½•ä¸€ä¸‹ï¼Œä»¥æ–¹ä¾¿æ—¥åæŸ¥çœ‹ã€‚ æœ¬æ–‡åªè®²è¿°ä½¿ç”¨å®˜ç½‘å®‰è£…åŒ… jdk-xxx.tar.gz æ¥å®‰è£…å’Œé…ç½®ç¯å¢ƒçš„æ–¹æ³•ã€‚ä½¿ç”¨yumæˆ–aptå®‰è£…æ–¹æ³•ä¸åœ¨æ­¤åˆ—ã€‚ å¼€å§‹å®‰è£…ï¼š å®˜ç½‘ä¸‹è½½jdkæ–‡ä»¶ jdk-8u161-linux-x64.tar.gzï¼ˆå¯èƒ½ä¹Ÿæœ‰æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œæ“ä½œç›¸åŒï¼‰ åˆ›å»ºæ–°ç›®å½•ï¼Œä½œä¸ºjdkçš„å®‰è£…ç›®å½• $ sudo mkdir /developer ç§»åŠ¨å¹¶è§£å‹æ–‡ä»¶åˆ°æ­¤å¤„ $ sudo mv jdk-8u161-linux-x64.tar.gz /home/user/developer $ sudo tar -zxvf jdk-8u161-linux-x64.tar.gz å®‰è£…å®Œæˆã€‚æ˜¯ä¸æ˜¯æ„Ÿè§‰ç‰¹åˆ«ç®€å•ï¼Ÿåˆ«æ€¥è¿˜å¾—é…ç½®ç¯å¢ƒå˜é‡ã€‚ã€‚ã€‚ é…ç½®ç¯å¢ƒå˜é‡ï¼š é…ç½® etc/environment ä¸‹çš„ç¯å¢ƒå˜é‡ $ sudo gedit /etc/environment æ‰“å¼€ç¼–è¾‘å™¨åï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®ï¼š PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:$JAVA_HOME/bin&quot; export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib export JAVA_HOME=/home/user/developer/jdk1.8.0_161 ä¿®æ”¹å®Œæˆä¹‹åä¿å­˜å…³é—­ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ $ source /etc/environment é…ç½® etc/profile ä¸‹çš„å…¨å±€ç¯å¢ƒå˜é‡ $ sudo gedit /etc/profile æ‰“å¼€åï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š #set Java environment export JAVA_HOME=/home/user/developer/jdk1.8.0_161 export JRE_HOME=$JAVA_HOME/jre export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH ä¿®æ”¹å®Œæˆä¹‹åä¿å­˜å…³é—­ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ $ source /etc/profile æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼š $ java -version å¦‚æ˜¾ç¤ºè¯¦ç»†ç‰ˆæœ¬å·åˆ™è¯æ˜jdkå®‰è£…å¹¶é…ç½®æˆåŠŸã€‚ java version &quot;1.8.0_161&quot; Java(TM) SE Runtime Environment (build 1.8.0_161-b12) Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode) ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé…ç½®è¿™ä¸¤å¤„ç¯å¢ƒå˜é‡ï¼Œå³å¯åœ¨ä»»æ„ä½ç½®ä½¿ç”¨Java_homeç¯å¢ƒäº†ã€‚å…³æœºæˆ–é‡å¯åé…ç½®ä¾ç„¶ç”Ÿæ•ˆã€‚ æ³¨æ„ï¼šæœ¬æ–‡ä¸­ /home/user/ ä¸­ï¼Œuseræ–‡ä»¶å¤¹ä»£æŒ‡çš„æ˜¯å½“å‰Linuxç™»å½•ç”¨æˆ·çš„ç”¨æˆ·æ–‡ä»¶å¤¹ï¼Œè€Œéä¸º user åç§°çš„æ–‡ä»¶å¤¹ã€‚","tags":[]},{"title":"Ubuntuä¸‹å®‰è£…MySQLå’ŒåŸºæœ¬æ“ä½œ","date":"2018-03-15T14:26:06.000Z","path":"2018/03/15/5/","text":"Ubuntuä¸‹å®‰è£…MySQLUbuntuä¸Šå®‰è£…MySQLæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚ $ sudo apt-get install mysql-server $ apt-get install mysql-client $ sudo apt-get install libmysqlclient-dev å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè®¾ç½®å¯†ç ä»€ä¹ˆçš„ï¼Œæ³¨æ„è®¾ç½®äº†ä¸è¦å¿˜äº†ï¼Œå®‰è£…å®Œæˆä¹‹åå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š $ sudo netstat -tap | grep mysql é€šè¿‡å‘½ä»¤è¿”å›çš„ç»“æœï¼Œå¦‚æœ mysql çš„socketå¤„äº listen çŠ¶æ€åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚ ç™»é™†mysqlæ•°æ®åº“å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼š $ mysql -u root -p -u è¡¨ç¤ºé€‰æ‹©ç™»é™†çš„ç”¨æˆ·åï¼Œ -p è¡¨ç¤ºç™»é™†çš„ç”¨æˆ·å¯†ç ï¼Œä¸Šé¢å‘½ä»¤è¾“å…¥ä¹‹åä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œæ­¤æ—¶è¾“å…¥å¯†ç å°±å¯ä»¥ç™»å½•åˆ°mysqlã€‚ è®¾ç½®MySQLè¿œç¨‹è®¿é—®è¿œç¨‹ä½¿ç”¨æ•°æ®åº“å®¢æˆ·ç«¯è½¯ä»¶è¿æ¥ MYSQLæ•°æ®æ—¶ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š 2003-Canâ€™t connect to MySQL on â€˜192.168.0.100â€™(10061)é”™è¯¯ æ­¤é”™è¯¯ç±»å‹ä¸ºMySQLæœåŠ¡ç«¯ä¸å…è®¸è¿œç¨‹è®¿é—®å¯¼è‡´ï¼Œæ­¤æ—¶éœ€é…ç½®å¼€å¯MySQLçš„è¿œç¨‹è®¿é—®ã€‚ è®¾ç½®mysqlå…è®¸è¿œç¨‹è®¿é—®ï¼Œé¦–å…ˆè¦æ‰¾åˆ°MySQLçš„é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬ä½ç½®åœ¨å¦‚ä¸‹ç›®å½• /etc/mysql/mysql.conf.d/mysqld.cnf æ‰“å¼€æ–¹å¼ï¼š $ sudo gedit /etc/mysql/mysql.conf.d/mysqld.cnf // æˆ–è€…ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ‰“å¼€é…ç½®æ–‡ä»¶ $ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf ç„¶åæ‰¾åˆ°è¿™ä¸€è¡Œä»£ç  bind-address = 127.0.0.1 æ–¹æ³•ä¸€ï¼šå‰é¢æ·»åŠ &quot;#&quot;ç›´æ¥æ³¨é‡Šæ‰ bind-address = 0.0.0.0 æ–¹æ³•äºŒï¼šå°† 127.0.0.1 æ”¹æˆ 0.0.0.0 é¡ºä¾¿ä¿®æ”¹MySQLæœ€å¤§å…è®¸è¯»å–æ•°æ®é‡ï¼Œä»¥é˜²æ­¢ä¸šåŠ¡è¿‡ç¨‹ä¸­æŠ¥é”™é”™ï¼š é”™è¯¯ç±»å‹ï¼šPacket for query is too large(xxx &gt; 1024) ä¿®æ”¹æ–¹å¼ï¼š[mysqld] ä¸‹ max_allowed_packet = 16M (è®¾ç½®20Må·¦å³ä¸ºå®œ) ä¿®æ”¹å®Œæˆåï¼Œéœ€è¦é‡å¯MySQLæœåŠ¡å™¨æ‰èƒ½ç”Ÿæ•ˆ $ service mysql restart // Ubuntu ç³»ç»Ÿä¸‹ $ systemctl restart mysqld.service // centos 7 ç³»ç»Ÿä¸‹ MySQLç”¨æˆ·çš„æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å’Œæˆæƒç”¨æˆ·æ·»åŠ ï¼šcreate user ç”¨æˆ·å identified by &apos;å¯†ç &apos;; ä¾‹ï¼šcreate user haha identified by &apos;123456&apos;; æƒé™æ§åˆ¶ï¼šæ–°åˆ›å»ºçš„ç”¨æˆ·ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ²¡æœ‰ä»»ä½•æƒé™çš„ï¼Œå› æ­¤éœ€è¦ç»™ç”¨æˆ·åˆ†é…æƒé™ grant æƒé™ on æ•°æ®åº“.æ•°æ®è¡¨ to &apos;ç”¨æˆ·&apos;@&apos;ä¸»æœºå&apos;; // ä¾‹ï¼šç»™ haha åˆ†é…æ‰€æœ‰çš„æƒé™ grant all on *.* to &apos;haha&apos;@&apos;%&apos;; å…¶ä¸­ *.* è¡¨ç¤ºæ‰€æœ‰çš„æ•°æ®åº“å’Œæ•°æ®è¡¨å‡å¯ä»¥è®¿é—®ï¼Œ% è¡¨ç¤ºå¯ä»¥ä»»æ„è¿œç«¯IPå‡å¯é€šè¿‡è¯¥ç”¨æˆ·è¿æ¥æ•°æ®åº“ã€‚ ç²¾å‡†çš„æ§åˆ¶ç”¨æˆ·çš„æƒé™ grant æƒé™ on æ•°æ®åº“.æ•°æ®è¡¨ to &apos;ç”¨æˆ·&apos;@&apos;ä¸»æœºå&apos;; //è¿™ä¸ªæ—¶å€™ haha å°±å…·æœ‰æŸ¥è¯¢d1ä¸­çš„tab1çš„æƒé™äº†ã€‚ grant select on d1.tab1 to &apos;haha&apos;@&apos;%&apos;; å†æ¯”å¦‚ï¼š mysql&gt;grant select,insert,update,delete,create,drop on d1.tab1 to haha@192.168.0.100 identified by â€˜123456â€²; ç»™æ¥è‡ª192.168.0.100çš„ç”¨æˆ·hahaåˆ†é…å¯å¯¹æ•°æ®åº“d1çš„tab1è¡¨è¿›è¡Œselect,insert,update,delete,create,dropç­‰æ“ä½œçš„æƒé™ï¼Œå¹¶è®¾å®šå£ä»¤ä¸º123456ã€‚ å¦‚æœç”¨æˆ·åœ¨æˆæƒæ“ä½œæ—¶å‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;%&apos; (using password: YES) é‚£ä¹ˆè¿™ä¸æ˜¯å› ä¸ºå¯†ç é”™è¯¯å¯¼è‡´çš„ï¼Œè€Œæ˜¯å› ä¸ºè¯¥ç”¨æˆ·æ²¡æœ‰æˆæƒå…¶ä»–ç”¨æˆ·çš„æƒé™ï¼Œå› æ­¤ï¼Œå‡ºç°é”™è¯¯ï¼Œæˆæƒå¤±è´¥ã€‚ å¯ä»¥å¦‚ä¸‹æ“ä½œè¿›è¡Œä¿®æ”¹æ”¹ç”¨æˆ·æˆæƒæƒé™ï¼š mysql&gt; use mysql; mysql&gt; update mysql.user set Grant_priv=&apos;Y&apos; where User=&apos;root&apos; and Host=&apos;localhost&apos;; mysql&gt; flush privileges; åˆ·æ–°å®Œæˆåï¼Œé€€å‡ºå¹¶é‡æ–°ç™»å½•ï¼Œè¯¥ç”¨æˆ·å°±å¯ä»¥æ­£å¸¸ç»™å…¶ä»–ç”¨æˆ·è¿›è¡Œæ•°æ®åº“æˆæƒæ“ä½œäº†ã€‚ æƒé™æ’¤å›ï¼šrevoke æƒé™ on æ•°æ®åº“.æ•°æ®è¡¨ from &apos;ç”¨æˆ·&apos;@&apos;ä¸»æœºå&apos;; // æ”¶å› haha çš„æ‰€æœ‰æƒé™ revoke all on *.* from &apos;haha&apos;@&apos;%&apos;; å¯†ç ä¿®æ”¹ï¼š(ä¸‰ç§æ–¹æ³•)æ–¹æ³•1ï¼š ç”¨SET PASSWORDå‘½ä»¤ é¦–å…ˆç™»å½•MySQLã€‚ æ ¼å¼ï¼šmysql&gt; set password for ç”¨æˆ·å@localhost = password(â€˜æ–°å¯†ç â€™); ä¾‹å­ï¼šmysql&gt; set password for root@localhost = password(&apos;123&apos;); æ–¹æ³•2ï¼šç”¨mysqladmin æ ¼å¼ï¼šmysqladmin -uç”¨æˆ·å -pæ—§å¯†ç  password æ–°å¯†ç  ä¾‹å­ï¼šmysqladmin -uroot -p123456 password 123 æ–¹æ³•3ï¼šç”¨UPDATEç›´æ¥ç¼–è¾‘userè¡¨ é¦–å…ˆç™»å½•MySQLã€‚ mysql&gt; use mysql; mysql&gt; update user set password=password(&apos;123&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;; mysql&gt; flush privileges; MySQLä¸­rootç”¨æˆ·æ— æ³•ç™»é™†æœ‰æ—¶æ–°å®‰è£…çš„MySQLæœåŠ¡å™¨ï¼Œé»˜è®¤rootç”¨æˆ·æœªè®¾ç½®å¯†ç ï¼Œå› æ­¤æ— æ³•è¿›è¡Œæ­£å¸¸çš„rootç”¨æˆ·ç™»å½•æ“ä½œã€‚ è§£å†³æ–¹æ³•ï¼š å‘½ä»¤è¡Œä¸‹ åˆ‡æ¢å½“å‰ç”¨æˆ·ä¸ºrootæƒé™ï¼š $ sudo su è¿›å…¥MySQLé»˜è®¤å®‰è£…è·¯å¾„ï¼Œé»˜è®¤ä½ç½®ä¸ºï¼š/etc/mysql/ æ‰“å¼€debian.cnf: $ gedit debian.cnf æ‰¾åˆ°å…¶ä¸­çš„ user å’Œ password å­—æ®µï¼Œç„¶åç”¨æ­¤userå’Œpasswordè¿›è¡ŒMySQLçš„ç™»å½•æ“ä½œã€‚ MySQLç™»å½•çŠ¶æ€ä¸‹ï¼Œä¿®æ”¹rootç”¨æˆ·å¯†ç ï¼š mysql&gt; use mysql; mysql&gt; UPDATE user SET authentication_string= password(â€˜123456â€™) WHERE User=â€™rootâ€™; é€€å‡ºå¹¶é‡å¯MySQLå³å¯ä½¿å…¶è®¾ç½®ç”Ÿæ•ˆã€‚ MySQLå¯†ç é‡ç½®æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°æˆ–ä¸¢å¤±æ•°æ®åº“é“¾æ¥å¯†ç ï¼Œå› æ­¤æ³¨æ„ä¿®æ”¹æˆ–é‡ç½®rootå¯†ç çš„æ–¹æ³•ä¹Ÿæ˜¯ååˆ†å¿…è¦çš„ã€‚ åŒæ ·ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š $ sudo vi /etc/mysql/my.cnf åœ¨[mysqld]æ®µä¸­åŠ å…¥ä¸€è¡Œâ€œskip-grant-tablesâ€ $ sudo service mysql restart é‡å¯mySQLæœåŠ¡ $ sudo mysql -u root ç„¶åè¿›è¡Œç”¨æˆ·æ·»åŠ ã€æˆæƒã€ä¿®æ”¹ç­‰ä¸€ç³»åˆ—æ“ä½œä¹‹åï¼Œé€€å‡ºæ•°æ®åº“ç®¡ç†çŠ¶æ€ã€‚ æœ€åå°†åˆšæ‰åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„ä»£ç åˆ é™¤æˆ–è€…æ³¨é‡Šï¼Œç„¶åé‡å¯MySQLæœåŠ¡å™¨ï¼Œé…ç½®å¥½æ–°çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨ã€‚ $ sudo vim /etc/mysql/my.cnf æŠŠåˆšæ‰åŠ å…¥çš„é‚£ä¸€è¡Œâ€œskip-grant-tablesâ€æ³¨é‡Šæˆ–åˆ é™¤ $ sudo service mysql restart OKï¼Œæå®šï¼ MySQLæŒ‡ä»¤ç®€å•ä½¿ç”¨ show databases; æŸ¥çœ‹å½“å‰çš„æ•°æ®åº“ã€‚ show tables; æ˜¾ç¤ºå½“å‰æ•°æ®åº“çš„è¡¨å• use tablename; åˆ‡æ¢åˆ°tablenameæ•°æ®åº“ select * from tablename; æŸ¥çœ‹è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®å’Œç»“æ„ Windowsä¸‹MySQLä¸­æ–‡ä¹±ç æƒ…å†µå¤„ç†å¦‚æœåœ¨Windowsä¸‹ä½¿ç”¨MySQLæ—¶ï¼Œå‡ºç°ä¸­æ–‡ä¹±ç çš„æƒ…å†µï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š åœ¨å®‰è£…ç›®å½•ï¼ˆæˆ–è€…æ˜¯ProgramDataç›®å½•ä¸‹çš„MySQLå®‰è£…ç›®å½•ï¼‰ä¸‹ï¼Œæ‰¾åˆ°my.iniï¼Œè®¾ç½®ä¸º character-set-server=utf8 é€šè¿‡ä»£ç è®¾ç½®ï¼Œæ˜¾ç¤ºå‡ºæ¥æ‰€æœ‰çš„è®¾ç½®é¡¹ç›®ã€‚æŠŠå…¶ä¸­çš„éUTF8çš„ç¼–ç éƒ½è®¾ç½®æˆutf8ï¼š show VARIABLES like â€˜character_%â€™; set character_set_server=utf8; å¦‚æœåœ¨Javaç«¯é€šä¿¡æ•°æ®çš„æ—¶å€™å‘ç”Ÿäº†ä¹±ç ï¼Œè®¾ç½®responseçš„ç»Ÿä¸€å­—ç¬¦ç¼–ç å³å¯ï¼š response.setCharacterEncoding(â€œutf-8â€); MySQLå¸è½½å’Œåˆ é™¤å‘½ä»¤apt-getåˆ é™¤mysql $ sudo apt-get remove --purge mysql-\\* æ‰‹åŠ¨åˆ é™¤mysqlå‰©ä½™æ–‡ä»¶ $ sudo find / -name mysql -print æ˜¾ç¤ºå‡ºæ‰€æœ‰çš„å«æœ‰mysqlæ–‡ä»¶åçš„è·¯å¾„ï¼Œå¦‚ä¸‹ï¼š /var/lib/mysql /var/lib/mysql/mysql /var/log/mysql /usr/bin/mysql /usr/lib/mysql /usr/share/mysql /etc/mysql /etc/init.d/mysql æ¥ä¸‹æ¥ä¸€ä¸€åˆ é™¤ï¼šæ‰§è¡Œå‘½ä»¤ $ sudo rm -rf /ect/init.d/mysql ç›´åˆ°å…¨éƒ¨åˆ é™¤ã€‚ å¦‚æœæƒ³è¦é‡æ–°å®‰è£…ï¼Œé‚£ä¹ˆé‡æ–°æ‰§è¡Œå…¨æ–°å®‰è£…çš„æ­¥éª¤å³å¯ã€‚è¿‡ç¨‹ä¸­å¦‚æœæŠ¥é”™ï¼Œå¯å¿½ç•¥ï¼Œç„¶åé‡æ–°æ‰§è¡Œä¸€æ¬¡å®‰è£…ä»£ç ã€‚ ç»“è¯­åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¯èƒ½è¿˜ä¼šå‡ºç°ä¸€äº›å…¶å®ƒçš„æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œæœ¬æ–‡åªæ˜¯æ€»ç»“äº†æœ¬äººåœ¨æµ‹è¯•ç¯å¢ƒå’Œå®é™…é¡¹ç›®(äº‘æœåŠ¡å™¨)ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œå¯èƒ½ä¹Ÿéå…¸å‹é—®é¢˜ï¼Œä»…ä¾›å‚è€ƒã€‚","tags":[]},{"title":"GitæŒ‡ä»¤çš„ç®€å•æœ‰æ•ˆä½¿ç”¨","date":"2018-03-13T10:30:06.000Z","path":"2018/03/13/3/","text":"Gitç®€ä»‹ç›®å‰åœ¨å¼€å‘å’Œé¡¹ç›®ç®¡ç†ä¸­ï¼Œgithubå’Œgitlabã€ç äº‘ç­‰ç­‰ä¸€ç³»åˆ—çš„åˆ†å¸ƒå¼ä»£ç æ‰˜ç®¡æœåŠ¡å™¨æˆä¸ºä¸»æµçš„åˆ†å¸ƒå¼ç®¡ç†ä»“åº“ã€‚ç°åœ¨æˆ‘å°†é‡ç‚¹ç»™å¤§å®¶ä»‹ç»gitä»“åº“æ‰˜ç®¡å¦‚ä½•ä½¿ç”¨åŠé«˜æ•ˆã€æ— å¼‚å¸¸çš„ä½¿ç”¨æ–¹æ³•ã€‚ åˆ›å»ºæœ¬åœ°æ–°ä»“åº“ è¿›å…¥æœ¬åœ°çš„é¡¹ç›®ç›®å½•ï¼Œå³é”®â€œGit Bash hereâ€,è°ƒå‡ºgitå‘½ä»¤è¡Œç•Œé¢ï¼Œç„¶åè¾“å…¥ $ git init å°±æ˜¯å°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ ï¼Œä¹Ÿå¯ä»¥å°†â€œ.â€æ¢æˆå…·ä½“çš„æ–‡ä»¶å $ git add . å°†é¡¹ç›®æäº¤åˆ°gitHub $ git commit -m â€œæ³¨é‡Šè¯­å¥â€ åœ¨githubä¸Šåˆ›å»ºæ–°çš„repositoryï¼Œæ­¥éª¤æ­¤å¤„ä¸å†è¯¦ç»†æè¿° ç‚¹å‡» â€œCreate repositoryâ€è·³è½¬åˆ°ä¸€ä¸ªè¿æ¥ï¼Œè·å–åˆ°æœ¬é¡¹ç›®çš„githubåœ°å€(httpsåœ°å€æˆ–è€…sshåœ°å€) å°†æœ¬åœ°çš„ä»£ç å…³è”åˆ°githubä¸Š $ git remote add origin é¡¹ç›®çš„githubåœ°å€ ä¸Šä¼ ä»£ç åˆ°githubä¹‹å‰éœ€è¦å…ˆpull $ git pull origin master ä¸Šä¼ ä»£ç åˆ°è¿œç¨‹ä»“åº“ $ git push -f origin master æ³¨é‡Šï¼š origin è¿œç¨‹ä»“åº“åï¼Œ master åˆ†æ”¯åï¼Œ -f ä¸ºforceï¼Œæ„ä¸ºï¼šå¼ºè¡Œã€å¼ºåˆ¶ã€‚ æŸ¥çœ‹å½“å‰branchåˆ—è¡¨ $ git branch -a è¿™ä¸ªæ˜¯æŸ¥çœ‹å…¨éƒ¨branchï¼ŒåŒ…æ‹¬è¿œç¨‹å’Œæœ¬åœ°ï¼Œ-aå…¶å®å°±æ˜¯all $ git branch -r æŸ¥çœ‹è¿œç¨‹ï¼Œ-r==romote $ git branch -l æŸ¥çœ‹æœ¬åœ°ï¼Œ-l==local åˆ‡æ¢çš„è¯ï¼Œç›´æ¥ git checkout [branch-name] å³å¯ã€‚ æ³¨ï¼šåˆ‡æ¢branchå‰æœ€å¥½å°†ä½ ç°åœ¨çš„branchä»£ç commitï¼Œä»¥é˜²ä»£ç ä¸¢å¤±ã€‚ åŒæ­¥forkåˆ°è‡ªå·±ä»“åº“çš„æºä»“åº“ä»£ç æ›´æ–° é¦–å…ˆ æŠŠåˆ«äººçš„ä»“åº“æ·»åŠ åˆ°ä½ çš„ä¸Šæ¸¸è¿œç¨‹ï¼Œé€šå¸¸å‘½åä¸º upstreamã€‚æ“ä½œä¸€æ¬¡å°±å¯ä»¥äº†ã€‚ $ git remote add upstream åŸä½œè€…ä»“åº“åœ°å€ æ­¤æ—¶å†ç”¨ git remote -v å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªoriginæ˜¯ä½ çš„ï¼Œå¦å¤–ä¸€ä¸ªupstreamæ˜¯åŸä½œè€…çš„ã€‚ å…¶æ¬¡ æ›´æ–°ä»£ç  $ git fetch upstream æ‹‰å»åŸä½œè€…çš„ä»“åº“æ›´æ–°ã€‚ $ git checkout master åˆ‡æ¢åˆ°è‡ªå·±çš„master $ git merge upstream/master mergeæˆ–è€…rebaseåˆ°ä½ çš„master æœ€åä¸è¦å¿˜äº†æŠŠmergeåçš„ä»£ç æäº¤åˆ°è‡ªå·±çš„ä»“åº“ä¸­ã€‚ SSHè¯ä¹¦çš„ä½¿ç”¨ç®€ä»‹SSHæ˜¯ç›®å‰è¾ƒå¯é ï¼Œè½¬ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨çš„åè®®ã€‚åˆ©ç”¨SSHåè®®å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚ Gitå°±é‡‡ç”¨äº†SSHåŠ å¯†ä¼ è¾“åè®®ï¼ŒåŠ å¯†ä¼ è¾“çš„ç®—æ³•æœ‰å¾ˆå¤šï¼Œgitå¯ä»¥ä½¿ç”¨RSAï¼ŒRSAçš„æ ¸å¿ƒå°±æ˜¯ä½¿ç”¨ä¸€å¯¹ç‰¹å®šçš„æ•°å­—ï¼Œä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæ•°å­—å¯ä»¥ç”¨æ¥åŠ å¯†ï¼Œè€Œå¦å¤–ä¸€ä¸ªæ•°å­—å¯ä»¥ç”¨æ¥è§£å¯†ã€‚ è¿™ä¸¤ä¸ªæ•°å­—å°±æ˜¯ä½ åœ¨ä½¿ç”¨gitã€githubå’Œgitlabçš„æ—¶å€™æ‰€é‡åˆ°çš„public key ä¹Ÿå°±æ˜¯å…¬é’¥ä»¥åŠprivate key ç§é’¥ã€‚å…¬é’¥æ˜¯ç”¨æ¥åŠ å¯†çš„æ•°å­—ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ¬çº§ç”Ÿæˆäº†å…¬é’¥ä¹‹åï¼Œè¦ä¸Šä¼ åˆ°gitlabã€GitHubçš„åŸå› ã€‚ä»GitHubæˆ–gitlabå‘å›æ¥çš„ç”¨å…¬é’¥åŠ å¯†è¿‡çš„æ•°æ®ï¼Œå¯ä»¥ç”¨ä½ æœ¬åœ°çš„ç§é’¥æ¥è¿˜åŸã€‚å¦‚æœkeyä¸¢å¤±ï¼Œä¸ç®¡æ˜¯å…¬é’¥è¿˜æ˜¯ç§é’¥ï¼Œä¸¢å¤±å“ªä¸€ä¸ªéƒ½ä¸èƒ½ç”¨ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆä¸€æ¬¡ç„¶ååœ¨gitlabè´¦æˆ·ä¸­å†è®¾ç½®ä¸€æ¬¡å°±å¯ä»¥äº†ã€‚ ç”ŸæˆSSH KEYä½ å¯ä»¥æŒ‰å¦‚ä¸‹å‘½ä»¤æ¥ç”Ÿæˆ sshkey: $ ssh-keygen -t rsa -C â€œxxxxx@xxxxx.comâ€œ æ¥ç€ä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼ˆè¿™ä¸ªæ²¡æœ‰å¿…è¦è¾“å…¥ï¼Œæˆ‘æœ¬äººæ²¡æœ‰è¾“å…¥ï¼‰ï¼Œç‚¹å‡»ä¸‰æ¬¡å›è½¦ï¼Œç„¶åæ‰§è¡Œåˆ°å‡ºç°ä¸€ä¸ªçŸ©å½¢æ¡†çš„æ—¶å€™ï¼ŒSSH KEYç”ŸæˆæˆåŠŸ æŸ¥çœ‹ä½ çš„ public keyï¼Œç”Ÿæˆåå­˜æ”¾åœ¨â€œç”¨æˆ·æ–‡ä»¶å¤¹â€ä¸‹çš„â€œ.sshâ€æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€èˆ¬ä¸ºéšè—æ–‡ä»¶å¤¹ã€‚ä¹Ÿå¯ä»¥å‘½ä»¤è¡ŒæŸ¥çœ‹ï¼š $ cat ~/.ssh/id_rsa.pub æŠŠå…¬é’¥id_rsa.pubé‡Œé¢çš„å†…å®¹ï¼Œæ·»åŠ åˆ°gitè´¦å·ä¸‹ã€‚è¯¦ç»†æ“ä½œæ­¤å¤„ä¸åšæè¿°ã€‚ æ·»åŠ åï¼Œåœ¨ç»ˆç«¯ï¼ˆTerminalï¼‰ä¸­è¾“å…¥ $ ssh -T git@gitee.com è‹¥è¿”å› Welcome to Gitee.com, yourname! åˆ™è¯æ˜æ·»åŠ æˆåŠŸã€‚è‹¥ä¸æˆåŠŸï¼Œæ ¹æ®æç¤ºä¿¡æ¯è¿›è¡Œæ’é™¤é—®é¢˜ï¼š ä¸€èˆ¬å¸¸è§é—®é¢˜ï¼š 1. sshå¯†é’¥ç”Ÿæˆé”™è¯¯ï¼Œå¯ä»¥é‡æ–°ç”Ÿæˆä¸€æ¬¡ï¼› 2. .sshæ–‡ä»¶å¤¹æƒé™é—®é¢˜ï¼Œæœ€å¥½æ˜¯æ–°å»ºï¼Œè€Œéç›´æ¥ä»åˆ«å¤„å¤åˆ¶ç²˜è´´è¿‡æ¥ã€‚ 3. æœªåŠ è½½sshå¯†é’¥æœåŠ¡ã€‚é€€å‡ºgitå‘½ä»¤è¡Œæˆ–å®¢æˆ·ç«¯ï¼Œé‡æ–°æ‰“å¼€ã€‚ Gitå¤šç”¨æˆ·è´¦æˆ·é…ç½®æŸäº›æƒ…å†µä¸‹ï¼Œä¸€å°å¼€å‘ç”µè„‘å¯èƒ½ä¼šåŒæ—¶è¿æ¥å¤šä¸ªä»£ç ä»“åº“ï¼Œè€ŒåŒä¸€ä¸ªsshå¯†é’¥åªèƒ½åˆ†é…ç»™å”¯ä¸€çš„gitè´¦æˆ·ä½¿ç”¨ã€‚å› æ­¤é…ç½®å¤šç”¨æˆ·å¯†é’¥æœåŠ¡ååˆ†å¿…è¦ã€‚ åœ¨.shhç›®å½•ä¸‹ï¼Œåˆ›å»ºconfigæ–‡æœ¬æ–‡ä»¶ï¼ˆæ— åç¼€åï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š //# é…ç½®git.oschina.net Host gitee.com HostName gitee.com IdentityFile /home/.ssh/id_rsa_oschina PreferredAuthentications publickey User GyWfnh //# é…ç½®git.oschina.net Host gitee.com.xxx HostName gitee.com IdentityFile /home/.ssh/id_rsa_xxx PreferredAuthentications publickey User GyWfnh // æ­¤æ¡é…ç½®ä¸‹çš„repository urlè¦ä¿®æ”¹ä¸ºhttpsï¼š//gitee.com.xxx......æˆ–è€…git@gitee.com.xxx...... æ³¨ï¼šåˆ›å»ºconfigæ–‡ä»¶æ—¶ï¼Œè¦æŠŠä¸Šé¢çš„ # å‰é¢çš„ // å»æ‰ é…ç½®Gitè´¦å·çš„ç”¨æˆ·åå’Œé‚®ç®±å…¨å±€é…ç½®Gitç”¨æˆ·åå’Œé‚®ç®±ï¼š $ git config â€“global user.name â€œxxxâ€ $ git config â€“global user.email â€œxxx@xxx.comâ€œ é…ç½®å±€éƒ¨Gitç”¨æˆ·åå’Œé‚®ç®±ï¼š git config user.name â€œxxxâ€ git config user.email â€œxxx@xxx.comâ€œ","tags":[]},{"title":"BlueLakeåšå®¢ä¸»é¢˜é…ç½®","date":"2018-03-12T09:30:30.000Z","path":"2018/03/12/2/","text":"å¼€å§‹ä¹‹å‰BlueLakeä¸»é¢˜ä»¥ç®€æ´è½»é‡è‡ªå±…(å®åˆ™ç®€é™‹)ï¼Œå»æ‰äº†Jqueryå’ŒFancybox,ç”¨åŸç”ŸJSå®ç°ç«™å†…æœç´¢åŠŸèƒ½å’Œå›åˆ°é¡¶éƒ¨æ•ˆæœã€‚ Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚HexoåŸºäºNode.js ï¼Œä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯Hexoæœ‰ä¸¤ä¸ª_config.ymlé…ç½®æ–‡ä»¶ï¼Œä¸€ä»½ä½äºç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œä¸»è¦åŒ…å« Hexo ç«™ç‚¹æœ¬èº«çš„é…ç½®ï¼Œä¸‹æ–‡ä¸­ä¼šç§°ä¸ºæ ¹_config.ymlï¼›å¦ä¸€ä»½ä½äºä¸»é¢˜ç›®å½•ä¸‹ï¼ˆthemes/ä¸»é¢˜å/_config.ymlï¼‰ï¼Œè¿™ä»½é…ç½®ç”±ä¸»é¢˜ä½œè€…æä¾›ï¼Œä¸»è¦ç”¨äºé…ç½®ä¸»é¢˜ç›¸å…³çš„é€‰é¡¹,ä¸‹æ–‡ä¸­ä¼šç§°ä¸ºä¸»é¢˜_config.ymlã€‚ 1. å®‰è£…æ‚¨å¯ä»¥ç›´æ¥åˆ°BlueLakeå‘å¸ƒé¡µä¸‹è½½ï¼Œç„¶åè§£å‹æ‹·è´åˆ°themesç›®å½•ä¸‹ï¼Œä¿®æ”¹é…ç½®å³å¯ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨GITæ¥checkoutä»£ç ï¼Œä¹‹åä¹Ÿå¯ä»¥é€šè¿‡git pullæ¥å¿«é€Ÿæ›´æ–°ã€‚ 1.1 å®‰è£…ä¸»é¢˜åœ¨æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯çª—å£ï¼š git bash $ git clone https://github.com/chaooo/hexo-theme-BlueLake.git themes/BlueLake 1.2 å®‰è£…ä¸»é¢˜æ¸²æŸ“å™¨BlueLakeæ˜¯åŸºäºjadeå’Œstyluså†™çš„ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…hexo-renderer-jadeå’Œhexo-renderer-stylusæ¥æ¸²æŸ“ã€‚ git bash $ npm install hexo-renderer-jade@0.3.0 --save $ npm install hexo-renderer-stylus --save 1.3 å¯ç”¨ä¸»é¢˜æ‰“å¼€æ ¹_config.ymlé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°themeå­—æ®µï¼Œå°†å…¶å€¼æ”¹ä¸ºBlueLake(å…ˆç¡®è®¤ä¸»é¢˜æ–‡ä»¶å¤¹åç§°æ˜¯å¦ä¸ºBlueLake)ã€‚ æ ¹_config.yml theme: BlueLake 1.4 éªŒè¯é¦–å…ˆå¯åŠ¨ Hexo æœ¬åœ°ç«™ç‚¹ï¼Œå¹¶å¼€å¯è°ƒè¯•æ¨¡å¼ï¼š git bash $ hexo s --debug åœ¨æœåŠ¡å¯åŠ¨çš„è¿‡ç¨‹ï¼Œæ³¨æ„è§‚å¯Ÿå‘½ä»¤è¡Œè¾“å‡ºæ˜¯å¦æœ‰ä»»ä½•å¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœä½ ç¢°åˆ°é—®é¢˜ï¼Œè¿™äº›ä¿¡æ¯å°†å¸®åŠ©ä»–äººæ›´å¥½çš„å®šä½é”™è¯¯ã€‚ å½“å‘½ä»¤è¡Œè¾“å‡ºä¸­æç¤ºå‡ºï¼š INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop. æ­¤æ—¶å³å¯ä½¿ç”¨æµè§ˆå™¨è®¿é—® http://localhost:4000ï¼Œæ£€æŸ¥ç«™ç‚¹æ˜¯å¦æ­£ç¡®è¿è¡Œã€‚ 1.5 æ›´æ–°ä¸»é¢˜ä»Šåè‹¥ä¸»é¢˜æ·»åŠ äº†æ–°åŠŸèƒ½æ­£æ˜¯æ‚¨éœ€è¦çš„ï¼Œæ‚¨å¯ä»¥ç›´æ¥git pullæ¥æ›´æ–°ä¸»é¢˜ã€‚ git bash $ cd themes/BlueLake $ git pull 2. é…ç½®2.1 é…ç½®ç½‘ç«™å¤´éƒ¨æ˜¾ç¤ºæ–‡å­—æ‰“å¼€æ ¹_config.ymlï¼Œæ‰¾åˆ°ï¼š æ ¹_config.yml title: subtitle: description: author: titleå’Œsubtitleåˆ†åˆ«æ˜¯ç½‘ç«™ä¸»æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ï¼Œä¼šæ˜¾ç¤ºåœ¨ç½‘ç«™å¤´éƒ¨ï¼›descriptionåœ¨ç½‘ç«™ç•Œé¢ä¸ä¼šæ˜¾ç¤ºï¼Œå†…å®¹ä¼šåŠ å…¥ç½‘ç«™æºç çš„metaæ ‡ç­¾ä¸­ï¼Œä¸»è¦ç”¨äºSEOï¼›authorå°±å¡«å†™ç½‘ç«™æ‰€æœ‰è€…çš„åå­—ï¼Œä¼šåœ¨ç½‘ç«™åº•éƒ¨çš„Copyrightå¤„æœ‰æ‰€æ˜¾ç¤ºã€‚ 2.2 è®¾ç½®è¯­è¨€è¯¥ä¸»é¢˜ç›®å‰æœ‰ä¸ƒç§è¯­è¨€ï¼šç®€ä½“ä¸­æ–‡ï¼ˆzh-CNï¼‰ï¼Œç¹ä½“ä¸­æ–‡ï¼ˆzh-TWï¼‰ï¼Œè‹±è¯­ï¼ˆenï¼‰ï¼Œæ³•è¯­ï¼ˆfr-FRï¼‰ï¼Œå¾·è¯­ï¼ˆde-DEï¼‰ï¼ŒéŸ©è¯­ ï¼ˆkoï¼‰,è¥¿ç­ç‰™è¯­ï¼ˆes-ESï¼‰ï¼›ä¾‹å¦‚é€‰ç”¨ç®€ä½“ä¸­æ–‡ï¼Œåœ¨æ ¹_config.ymlé…ç½®å¦‚ä¸‹ï¼š æ ¹_config.yml language: zh-CN 2.3 è®¾ç½®èœå•æ‰“å¼€ä¸»é¢˜_config.ymlï¼Œæ‰¾åˆ°ï¼š ä¸»é¢˜_config.yml menu: - page: home directory: . icon: fa-home - page: archive directory: archives/ icon: fa-archive # - page: about # directory: about/ # icon: fa-user - page: rss directory: atom.xml icon: fa-rss ä¸»é¢˜é»˜è®¤æ˜¯å±•ç¤ºå››ä¸ªèœå•ï¼Œå³ä¸»é¡µhomeï¼Œå½’æ¡£archiveï¼Œå…³äºaboutï¼Œè®¢é˜…RSSï¼›aboutéœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼ŒRSSéœ€è¦å®‰è£…æ’ä»¶ï¼Œè‹¥æ‚¨å¹¶ä¸éœ€è¦ï¼Œå¯ä»¥ç›´æ¥æ³¨é‡Šæ‰ã€‚ æ¯ä¸ªé¡µé¢åº•éƒ¨çš„footerä¸­è”ç³»åšä¸»çš„ä¸‰ä¸ªå›¾æ ‡åˆ†åˆ«æ˜¯é‚®ç®±ï¼Œå¾®åšä¸»é¡µé“¾æ¥åœ°å€ï¼ŒGitHUbä¸ªäººé¡µé“¾æ¥åœ°å€ï¼Œç›´æ¥ä½¿ç”¨ä¸»é¢˜_config.ymlä¸­abouté¡µé¢çš„é…ç½®. è‹¥ä¸éœ€è¦abouté¡µé¢ï¼Œåªéœ€è¦å¦‚ä¸‹é…ç½®å°±å¥½ï¼š ä¸»é¢˜_config.yml # About page about: email: ## ä¸ªäººé‚®ç®± weibo_url: ## å¾®åšä¸»é¡µé“¾æ¥åœ°å€ github_url: ## githubä¸»é¡µé“¾æ¥åœ°å€ 2.3.1 æ·»åŠ abouté¡µæ­¤ä¸»é¢˜é»˜è®¤pageé¡µé¢æ˜¯å…³äºæˆ‘é¡µé¢çš„å¸ƒå±€ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œç”Ÿæˆä¸€ä¸ªå…³äºæˆ‘é¡µé¢ï¼š git bash $ hexo new page &apos;about&apos; æ‰“å¼€ä¸»é¢˜_config.ymlï¼Œè¡¥å…¨å…³äºæˆ‘é¡µé¢çš„è¯¦ç»†ä¿¡æ¯ï¼š ä¸»é¢˜_config.yml # About page about: photo_url: ## å¤´åƒçš„é“¾æ¥åœ°å€ email: ## ä¸ªäººé‚®ç®± weibo_url: ## å¾®åšä¸»é¡µé“¾æ¥åœ°å€ weibo_name: ## å¾®åšç”¨æˆ·å github_url: ## githubä¸»é¡µé“¾æ¥åœ°å€ github_name: ## githubç”¨æˆ·å å½“ç„¶æ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é‡æ–°å¸ƒå±€abouté¡µé¢ï¼Œåªéœ€è¦ä¿®æ”¹layout/page.jadeæ¨¡æ¿å°±å¥½ã€‚ 2.3.2 å®‰è£… RSS(è®¢é˜…) å’Œ sitemap(ç½‘ç«™åœ°å›¾) æ’ä»¶åœ¨æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼š git bash $ npm install hexo-generator-feed --save $ npm install hexo-generator-sitemap --save $ npm install hexo-generator-baidu-sitemap --save æ·»åŠ ä¸»é¢˜_config.ymlé…ç½®ï¼š ä¸»é¢˜_config.yml Plugins: hexo-generator-feed hexo-generator-sitemap hexo-generator-baidu-sitemap feed: type: atom path: atom.xml limit: 20 sitemap: path: sitemap.xml baidusitemap: path: baidusitemap.xml 2.4 æ·»åŠ æœ¬åœ°æœç´¢é»˜è®¤æœ¬åœ°æœç´¢æ˜¯ç”¨åŸç”ŸJSå†™çš„ï¼Œä½†è¿˜éœ€è¦HEXOæ’ä»¶åˆ›å»ºçš„JSONæ•°æ®æ–‡ä»¶é…åˆã€‚å®‰è£…æ’ä»¶hexo-generator-json-contentæ¥åˆ›å»ºJSONæ•°æ®æ–‡ä»¶ï¼š git bash $ npm install hexo-generator-json-content@2.2.0 --save ç„¶ååœ¨æ ¹_config.ymlæ·»åŠ é…ç½®ï¼š æ ¹_config.yml jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true æœ€ååœ¨ä¸»é¢˜_config.ymlæ·»åŠ é…ç½®ï¼š ä¸»é¢˜_config.yml local_search: true 2.5 ä¿®æ”¹ç«™ç‚¹å›¾æ ‡ç«™ç‚¹å›¾æ ‡å­˜æ”¾åœ¨ä¸»é¢˜çš„Sourceç›®å½•ä¸‹ï¼Œå·²ç»é»˜è®¤ä¸ºæ‚¨å‡†å¤‡äº†ä¸¤å¼ å›¾ç‰‡ã€‚æ‚¨ä¹Ÿå¯ä»¥è‡ªå·±è®¾è®¡ç«™ç‚¹LOGOã€‚ æ‚¨éœ€è¦å‡†å¤‡ä¸€å¼ icoæ ¼å¼å¹¶å‘½åä¸º favicon.ico ï¼Œè¯·å°†å…¶æ”¾å…¥hexoç›®å½•çš„sourceæ–‡ä»¶å¤¹ï¼Œå»ºè®®å¤§å°ï¼š32px X 32pxã€‚ æ‚¨éœ€è¦ä¸ºè‹¹æœè®¾å¤‡æ·»åŠ ç½‘ç«™å¾½æ ‡ï¼Œè¯·å‘½åä¸º apple-touch-icon.png çš„å›¾åƒæ”¾å…¥hexoç›®å½•çš„â€œsourceâ€æ–‡ä»¶å¤¹ä¸­ï¼Œå»ºè®®å¤§å°ä¸ºï¼š114px X 114pxã€‚ 2.6 æ·»åŠ ç«™ç‚¹å…³é”®å­—è¯·åœ¨hexoç›®å½•çš„æ ¹_config.ymlä¸­æ·»åŠ keywordså­—æ®µï¼Œå¦‚ï¼š æ ¹_config.yml # Site title: Hexo subtitle: å‰¯æ ‡é¢˜ description: ç½‘ç«™ç®€è¦æè¿°,å¦‚ï¼šCharlesÂ·Zheng&apos;s blog. keywords: ç½‘ç«™å…³é”®å­—, key, key1, key2, key3 author: Charles language: zh-CN 2.7 å…¶ä»–é…ç½®ä¸»é¢˜_config.ymlçš„å…¶ä»–é…ç½® show_category_count â€”â€”æ˜¯å¦æ˜¾ç¤ºåˆ†ç±»ä¸‹çš„æ–‡ç« æ•°ã€‚ widgets_on_small_screens â€”â€”æ˜¯å¦åœ¨å°å±æ˜¾ç¤ºä¾§è¾¹æ ï¼Œè‹¥true,åˆ™ä¾§è¾¹æ æŒ‚ä»¶å°†æ˜¾ç¤ºåœ¨åº•éƒ¨ã€‚ ä¸»é¢˜_config.yml show_category_count: true widgets_on_small_screens: true 3.é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡3.1 æ·»åŠ è¯„è®ºç›®å‰ä¸»é¢˜é›†æˆå…­ç§ç¬¬ä¸‰æ–¹è¯„è®ºï¼Œåˆ†åˆ«æ˜¯å¤šè¯´è¯„è®ºã€Disqusè¯„è®ºã€æ¥å¿…åŠ›è¯„è®ºã€å‹è¨€è¯„è®ºã€ç½‘æ˜“äº‘è·Ÿå¸–è¯„è®ºã€ç•…è¨€è¯„è®ºï¼Œå¤šè¯´é©¬ä¸Šå°±è¦åœæ­¢æœåŠ¡äº†ï¼Œå‹è¨€å¥½åƒä¹Ÿæ²¡æ€ä¹ˆç»´æŠ¤,ç›®å‰æˆ‘å·²æŠŠè‡ªå·±çš„åšå®¢è¯„è®ºä»å¤šè¯´è½¬ç§»åˆ°ç•…è¨€äº†ï¼Œåœ¨å›½å†…ç›®å‰ç½‘æ˜“äº‘è·Ÿå¸–å’Œç•…è¨€è¿˜ä¸é”™ã€‚ æ³¨å†Œå¹¶è·å¾—ä»£ç ï¼š è‹¥ä½¿ç”¨å¤šè¯´è¯„è®ºï¼Œæ³¨å†Œå¤šè¯´åè·å¾—short_nameã€‚ è‹¥ä½¿ç”¨Disqusè¯„è®ºï¼Œæ³¨å†ŒDisqusåè·å¾—short_nameã€‚ è‹¥ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºï¼Œæ³¨å†Œæ¥å¿…åŠ›,è·å¾—data-uidã€‚ è‹¥ä½¿ç”¨å‹è¨€è¯„è®ºï¼Œæ³¨å†Œå‹è¨€,è·å¾—uidã€‚ è‹¥ä½¿ç”¨ç½‘æ˜“äº‘è·Ÿå¸–è¯„è®ºï¼Œæ³¨å†Œç½‘æ˜“äº‘è·Ÿå¸–,è·å¾—productKeyã€‚ è‹¥ä½¿ç”¨ç•…è¨€è¯„è®ºï¼Œæ³¨å†Œç•…è¨€ï¼Œè·å¾—appidï¼Œappkeyã€‚ é…ç½®ä¸»é¢˜_config.ymlï¼š ä¸»é¢˜_config.ymlï¼š #Cmments comment: duoshuo: ## duoshuo_shortname disqus: ## disqus_shortname livere: ## æ¥å¿…åŠ›(data-uid) uyan: ## å‹è¨€(uid) cloudTie: ## ç½‘æ˜“äº‘è·Ÿå¸–(productKey) changyan: ## ç•…è¨€éœ€åœ¨ä¸‹æ–¹é…ç½®ä¸¤ä¸ªå‚æ•°ï¼Œæ­¤å¤„ä¸å¡«ã€‚ appid: ## ç•…è¨€(appid) appkey: ##ç•…è¨€(appkey) 3.2 ç™¾åº¦ç»Ÿè®¡ç™»å½•ç™¾åº¦ç»Ÿè®¡ï¼Œå®šä½åˆ°ç«™ç‚¹çš„ä»£ç è·å–é¡µé¢ã€‚ å¤åˆ¶//hm.baidu.com/hm.js?åé¢é‚£ä¸²ç»Ÿè®¡è„šæœ¬id(å‡è®¾ä¸ºï¼š8006843039519956000) é…ç½®ä¸»é¢˜_config.yml: baidu_analytics: 8006843039519956000 æ³¨æ„ï¼š baidu_analyticsä¸æ˜¯ä½ çš„ç™¾åº¦idæˆ–è€…ç™¾åº¦ç»Ÿè®¡id.å¦‚è‹¥ä½¿ç”¨è°·æ­Œç»Ÿè®¡ï¼Œé…ç½®æ–¹æ³•ä¸ç™¾åº¦ç»Ÿè®¡ç±»ä¼¼ã€‚ 3.3 åœç®—å­é˜…è¯»æ¬¡æ•°ç»Ÿè®¡ä¸»é¢˜_config.yml busuanzi: true è‹¥è®¾ç½®ä¸ºtrueå°†è®¡ç®—æ–‡ç« çš„é˜…è¯»é‡(Hits)ï¼Œå¹¶æ˜¾ç¤ºåœ¨æ–‡ç« æ ‡é¢˜ä¸‹çš„å°æ‰‹å›¾æ ‡æ—ã€‚ 3.4 å¾®åšç§€å¾®åšç§€æŒ‚ä»¶çš„ä»£ç æ”¾åœ¨layout/_widget/weibo.jadeä¸‹ï¼Œéœ€è¦æ‚¨å»å¾®åšå¼€æ”¾å¹³å°è·å–æ‚¨è‡ªå·±çš„å¾®åšç§€ä»£ç æ¥æ›¿æ¢ã€‚ ç™»å½•å¾®åšå¼€æ”¾å¹³å°ï¼Œé€‰æ‹©å¾®åšç§€ã€‚ ä¸ºäº†ä¸ä¸»é¢˜é£æ ¼ç»Ÿä¸€ï¼Œä½œå¦‚ä¸‹é…ç½® åŸºç¡€è®¾ç½®ï¼šé«˜400pxï¼›å‹¾é€‰å®½åº¦è‡ªé€‚åº”ï¼›é¢œè‰²é€‰æ‹©ç™½è‰²ï¼› æ ·å¼è®¾ç½®ï¼šä¸»å­—è‰²#333ï¼›é“¾æ¥è‰²#40759bï¼›é¼ æ ‡æ‚¬åœè‰²#f7f8f8ï¼› æ¨¡å—è®¾ç½®ï¼šå»æ‰æ ‡é¢˜ã€è¾¹æ¡†ã€ç²‰ä¸çš„å‹¾é€‰æ¡†ï¼Œåªç•™å¾®åšã€‚ å¤åˆ¶ä»£ç é‡Œsrc=â€â€é‡Œå¼•å·åŒ…è£¹çš„å†…å®¹ï¼Œæ›¿æ¢åˆ°layout/_widget/weibo.jade weibo.jade .widget .widget-title i(class=&apos;fa fa-weibo&apos;)= &apos; &apos; + __(&apos;æ–°æµªå¾®åš&apos;) iframe(width=&quot;100%&quot;,height=&quot;400&quot;,class=&quot;share_self&quot;,frameborder=&quot;0&quot;,scrolling=&quot;no&quot;,src=&quot;http://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=400&amp;fansRow=2&amp;ptype=1&amp;speed=0&amp;skin=5&amp;isTitle=0&amp;noborder=0&amp;isWeibo=1&amp;isFans=0&amp;uid=1700139362&amp;verifier=85be6061&amp;colors=d6f3f7,ffffff,333,40759b,f7f8f8&amp;dpc=1&quot;) è¿™åªæ˜¯ä¸ºäº†å’Œä¸»é¢˜çš„é£æ ¼ç»Ÿä¸€ï¼Œå½“ç„¶æ‚¨ä¹Ÿå¯ä»¥è‡ªç”±éšæ„å‘æŒ¥ã€‚ æ³¨æ„ï¼šæœ€ä¸»è¦æ˜¯æ˜¯è¦æŠŠsrcé‡Œuid=å’Œverifier=åé¢çš„å­—æ®µæ›¿æ¢ä¸ºæ‚¨è‡ªå·±ä»£ç é‡Œçš„å°±å¥½ã€‚","tags":[]},{"title":"Hexoçš„å®‰è£…é…ç½®å’Œæ­å»º","date":"2018-03-12T08:28:58.000Z","path":"2018/03/12/1/","text":"Hexoæ¦‚è¿°Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ å®‰è£…å®‰è£… Hexo ç›¸å½“ç®€å•ã€‚ç„¶è€Œåœ¨å®‰è£…å‰ï¼Œæ‚¨å¿…é¡»æ£€æŸ¥ç”µè„‘ä¸­æ˜¯å¦å·²å®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºï¼š Node.js Git å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼æ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…ã€‚ $ npm install -g hexo-cli å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€è¦çš„ç¨‹åºï¼Œè¯·æ ¹æ®ä»¥ä¸‹å®‰è£…æŒ‡ç¤ºå®Œæˆå®‰è£…ã€‚ Mac ç”¨æˆ·æ‚¨åœ¨ç¼–è¯‘æ—¶å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œè¯·å…ˆåˆ° App Store å®‰è£… Xcodeï¼ŒXcode å®Œæˆåï¼Œå¯åŠ¨å¹¶è¿›å…¥ Preferences -&gt; Download -&gt; Command Line Tools -&gt; Install å®‰è£…å‘½ä»¤è¡Œå·¥å…·ã€‚ å®‰è£… Git Windowsï¼šä¸‹è½½å¹¶å®‰è£… git. Macï¼šä½¿ç”¨ Homebrew, MacPorts ï¼šbrew install git;æˆ–ä¸‹è½½ å®‰è£…ç¨‹åº å®‰è£…ã€‚ Linux (Ubuntu, Debian)ï¼šsudo apt-get install git-core Linux (Fedora, Red Hat, CentOS)ï¼šsudo yum install git-core Windows ç”¨æˆ·ä¸‹è½½git for windowsä¼šæ¯”è¾ƒç¼“æ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ä¸€ä¸‹ã€‚æˆ–è€…å¯ä»¥å»ç¬¬ä¸‰æ–¹åº”ç”¨å•†åº—ä¸‹è½½ã€‚ å®‰è£… Node.jså®‰è£… Node.js çš„æœ€ä½³æ–¹å¼æ˜¯ä½¿ç”¨ nvmã€‚ cURL: $ curl https://raw.github.com/creationix/nvm/master/install.sh | sh Wget: $ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh æˆ–è€… $ wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh | bash å®‰è£…å®Œæˆåï¼Œé‡å¯ç»ˆç«¯å¹¶æ‰§è¡Œä¸‹åˆ—å‘½ä»¤å³å¯å®‰è£… Node.jsã€‚ $ nvm install stable Windows ç”¨æˆ· å¯¹äºwindowsç”¨æˆ·æ¥è¯´ï¼Œå»ºè®®ä½¿ç”¨å®‰è£…ç¨‹åºè¿›è¡Œå®‰è£…ã€‚å®‰è£…æ—¶ï¼Œè¯·å‹¾é€‰Add to PATHé€‰é¡¹ã€‚ å¦å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨Git Bashï¼Œè¿™æ˜¯git for windowsè‡ªå¸¦çš„ä¸€ç»„ç¨‹åºï¼Œæä¾›äº†Linuxé£æ ¼çš„shellï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹ï¼Œæ‚¨å¯ä»¥ç›´æ¥ç”¨ä¸Šé¢æåˆ°çš„å‘½ä»¤æ¥å®‰è£…Node.jsã€‚æ‰“å¼€å®ƒçš„æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨ä»»æ„ä½ç½®å•å‡»å³é”®ï¼Œé€‰æ‹©â€œGit Bash Hereâ€å³å¯ã€‚ ç”±äºHexoçš„å¾ˆå¤šæ“ä½œéƒ½æ¶‰åŠåˆ°å‘½ä»¤è¡Œï¼Œæ‚¨å¯ä»¥è€ƒè™‘å§‹ç»ˆä½¿ç”¨Git Bashæ¥è¿›è¡Œæ“ä½œã€‚ Ubuntuç”¨æˆ· ç¬¬ä¸€æ­¥ï¼Œå» nodejs å®˜ç½‘ https://nodejs.org çœ‹æœ€æ–°çš„ç‰ˆæœ¬å·ï¼› ç¬¬äºŒæ­¥ï¼Œæ·»åŠ æºåå®‰è£…é‡ç‚¹æ¥äº†ï¼Œnodejs çš„æ¯ä¸ªå¤§ç‰ˆæœ¬å·éƒ½æœ‰ç›¸å¯¹åº”çš„æºï¼Œæ¯”å¦‚è¿™é‡Œçš„ 10.x.xç‰ˆæœ¬çš„æºæ˜¯https://deb.nodesource.com/setup_10.xã€‚ æ‰€ä»¥åœ¨ç»ˆç«¯æ‰§è¡Œï¼š $ curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash - æˆ–è€… $ curl -sL https://deb.nodesource.com/setup_10.x | bash ç¨ç­‰ç‰‡åˆ»ï¼Œæºå·²ç»æ·»åŠ å®Œæ¯•ï¼Œå†æ‰§è¡Œï¼š $ sudo apt-get install -y nodejs é¡ºå¸¦ä¸€æï¼Œå¦‚æœä½ è¦å®‰è£…12.x.x çš„ç‰ˆæœ¬ï¼Œåªéœ€è¦ä¿®æ”¹æ·»åŠ æºåœ°å€ä¸­çš„æ•°å­—å³å¯ï¼Œæ¯”å¦‚ï¼š $ curl -sL https://deb.nodesource.com/setup_12.x | bash æœ€åéªŒè¯ä¸€ä¸‹ï¼Œæ‰§è¡Œï¼šnodejs -v å³å¯å‡ºç°åˆšæ‰å®‰è£…çš„ç‰ˆæœ¬å·ã€‚ $ nodejs -v å®‰è£… Hexoæ‰€æœ‰å¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexoã€‚ $ npm install -g hexo-cli Hexoåˆå§‹åŒ–å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚ $ hexo init $ cd $ npm install æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š . â”œâ”€â”€ _config.yml â”œâ”€â”€ package.json â”œâ”€â”€ scaffolds â”œâ”€â”€ source | â”œâ”€â”€ _drafts | â””â”€â”€ _posts â””â”€â”€ themes _config.yml ç½‘ç«™çš„ é…ç½® ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ã€‚ package.json åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚EJS, Stylus å’Œ Markdown renderer å·²é»˜è®¤å®‰è£…ï¼Œæ‚¨å¯ä»¥è‡ªç”±ç§»é™¤ã€‚ scaffolds æ¨¡ç‰ˆ æ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚ Hexoçš„æ¨¡æ¿æ˜¯æŒ‡åœ¨æ–°å»ºçš„markdownæ–‡ä»¶ä¸­é»˜è®¤å¡«å……çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä¿®æ”¹scaffold/post.mdä¸­çš„Front-matterå†…å®¹ï¼Œé‚£ä¹ˆæ¯æ¬¡æ–°å»ºä¸€ç¯‡æ–‡ç« æ—¶éƒ½ä¼šåŒ…å«è¿™ä¸ªä¿®æ”¹ã€‚ source èµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚ Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚ themes ä¸»é¢˜ æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚ æ›´è¯¦ç»†ä»‹ç»è¯·å‚è€ƒæ­¤å¤„ã€‚ æœåŠ¡å™¨hexo-server Hexo 3.0 æŠŠæœåŠ¡å™¨ç‹¬ç«‹æˆäº†ä¸ªåˆ«æ¨¡å—ï¼Œæ‚¨å¿…é¡»å…ˆå®‰è£… hexo-server æ‰èƒ½ä½¿ç”¨ã€‚ $ npm install hexo-server â€“save å®‰è£…å®Œæˆåï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ä»¥å¯åŠ¨æœåŠ¡å™¨ $ hexo server æ‚¨çš„ç½‘ç«™ä¼šåœ¨ http://localhost:4000 ä¸‹å¯åŠ¨ã€‚åœ¨æœåŠ¡å™¨å¯åŠ¨æœŸé—´ï¼ŒHexo ä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶è‡ªåŠ¨æ›´æ–°ï¼Œæ‚¨æ— é¡»é‡å¯æœåŠ¡å™¨ã€‚ å¦‚æœæ‚¨æƒ³è¦æ›´æ”¹ç«¯å£ï¼Œæˆ–æ˜¯åœ¨æ‰§è¡Œæ—¶é‡åˆ°äº† EADDRINUSE é”™è¯¯ï¼Œå¯ä»¥åœ¨æ‰§è¡Œæ—¶ä½¿ç”¨ -p é€‰é¡¹æŒ‡å®šå…¶ä»–ç«¯å£ï¼Œå¦‚ä¸‹ï¼š $ hexo server -p 5000 é™æ€æ¨¡å¼ åœ¨é™æ€æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡å™¨åªå¤„ç† public æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ï¼Œè€Œä¸ä¼šå¤„ç†æ–‡ä»¶å˜åŠ¨ï¼Œåœ¨æ‰§è¡Œæ—¶ï¼Œæ‚¨åº”è¯¥å…ˆè‡ªè¡Œæ‰§è¡Œ hexo generateï¼Œæ­¤æ¨¡å¼é€šå¸¸ç”¨äºç”Ÿäº§ç¯å¢ƒï¼ˆproduction modeï¼‰ä¸‹ã€‚ $ hexo server -s è‡ªå®šä¹‰ IP æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ 0.0.0.0ï¼Œæ‚¨å¯ä»¥è¦†ç›–é»˜è®¤çš„ IP è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š $ hexo server -i 192.168.1.1 æŒ‡å®šè¿™ä¸ªå‚æ•°åï¼Œæ‚¨å°±åªèƒ½é€šè¿‡è¯¥IPæ‰èƒ½è®¿é—®ç«™ç‚¹ã€‚å¦‚æœæ‚¨æŒ‡å®šä¸€ä¸ªå±€åŸŸç½‘IPä½œä¸º-iå‚æ•°çš„å€¼ï¼Œé‚£ä¹ˆå°±æ— æ³•é€šè¿‡å…¬ç½‘æ¥è®¿é—®ç«™ç‚¹ã€‚ ç”Ÿæˆæ–‡ä»¶ä½¿ç”¨ Hexo ç”Ÿæˆé™æ€æ–‡ä»¶å¿«é€Ÿè€Œä¸”ç®€å•ã€‚ $ hexo generate ç›‘è§†æ–‡ä»¶å˜åŠ¨ Hexo èƒ½å¤Ÿç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶ç«‹å³é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œåœ¨ç”Ÿæˆæ—¶ä¼šæ¯”å¯¹æ–‡ä»¶çš„ SHA1 checksumï¼Œåªæœ‰å˜åŠ¨çš„æ–‡ä»¶æ‰ä¼šå†™å…¥ã€‚ $ hexo generate â€“watch å®Œæˆåéƒ¨ç½² æ‚¨å¯æ‰§è¡Œä¸‹åˆ—çš„å…¶ä¸­ä¸€ä¸ªå‘½ä»¤ï¼Œè®© Hexo åœ¨ç”Ÿæˆå®Œæ¯•åè‡ªåŠ¨éƒ¨ç½²ç½‘ç«™ï¼Œä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚ $ hexo generate â€“deploy $ hexo deploy â€“generate ç®€å†™ ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤å¯ä»¥ç®€å†™ä¸º $ hexo g -d $ hexo d -g éƒ¨ç½²Hexo æä¾›äº†å¿«é€Ÿæ–¹ä¾¿çš„ä¸€é”®éƒ¨ç½²åŠŸèƒ½ï¼Œè®©æ‚¨åªéœ€ä¸€æ¡å‘½ä»¤å°±èƒ½å°†ç½‘ç«™éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ $ hexo deploy åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨å¿…é¡»å…ˆåœ¨ _config.yml ä¸­ä¿®æ”¹å‚æ•°ï¼Œä¸€ä¸ªæ­£ç¡®çš„éƒ¨ç½²é…ç½®ä¸­è‡³å°‘è¦æœ‰ type å‚æ•°ï¼Œä¾‹å¦‚ï¼š deploy: type: git æ‚¨å¯åŒæ—¶ä½¿ç”¨å¤šä¸ª deployerï¼ŒHexo ä¼šä¾ç…§é¡ºåºæ‰§è¡Œæ¯ä¸ª deployerã€‚ deploy: - type: git repo: - type: heroku repo: ç¼©è¿› YAMLä¾é ç¼©è¿›æ¥ç¡®å®šå…ƒç´ é—´çš„ä»å±å…³ç³»ã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿æ¯ä¸ªdeployerçš„ç¼©è¿›é•¿åº¦ç›¸åŒï¼Œå¹¶ä¸”ä½¿ç”¨ç©ºæ ¼ç¼©è¿›ã€‚ Git å®‰è£… hexo-deployer-gitã€‚ $ npm install hexo-deployer-git --save ä¿®æ”¹é…ç½®ã€‚ deploy: type: git repo: &lt;repository url&gt; branch: [branch] message: [message] å‚æ•° æè¿° repo åº“ï¼ˆRepositoryï¼‰åœ°å€ branch åˆ†æ”¯åç§°ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ GitHub æˆ– GitCafe çš„è¯ï¼Œç¨‹åºä¼šå°è¯•è‡ªåŠ¨æ£€æµ‹ã€‚ message è‡ªå®šä¹‰æäº¤ä¿¡æ¯ (é»˜è®¤ä¸º Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}) Heroku å®‰è£… hexo-deployer-herokuã€‚ $ npm install hexo-deployer-heroku --save ä¿®æ”¹é…ç½®ã€‚ deploy: type: heroku repo: &lt;repository url&gt; message: [message] å‚æ•° æè¿° repo Heroku åº“ï¼ˆRepositoryï¼‰åœ°å€ message è‡ªå®šæäº¤ä¿¡æ¯ (é»˜è®¤ä¸º Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}) Rsync å®‰è£… hexo-deployer-rsyncã€‚ $ npm install hexo-deployer-rsync --save ä¿®æ”¹é…ç½®ã€‚ deploy: type: rsync host: &lt;host&gt; user: &lt;user&gt; root: &lt;root&gt; port: [port] delete: [true|false] verbose: [true|false] ignore_errors: [true|false] å‚æ•° æè¿° é»˜è®¤å€¼ host è¿œç¨‹ä¸»æœºçš„åœ°å€ user ä½¿ç”¨è€…åç§° root è¿œç¨‹ä¸»æœºçš„æ ¹ç›®å½• port ç«¯å£ 22 delete åˆ é™¤è¿œç¨‹ä¸»æœºä¸Šçš„æ—§æ–‡ä»¶ true verbose æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ true ignore_errors å¿½ç•¥é”™è¯¯ false rsyncéƒ¨ç½²æ¨¡å—çš„å·¥ä½œæ–¹å¼ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦æ±‚æ‚¨æä¾›çš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªèƒ½é€šè¿‡SSHç™»é™†è¿œç¨‹ä¸»æœºçš„Linuxç”¨æˆ·ã€‚Hexoä¼šè‡ªåŠ¨å¤„ç†å…³äºrsyncä½¿ç”¨çš„ä¸€åˆ‡æ“ä½œã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šä¸ºæ‚¨çš„Hexoç«™ç‚¹å»ºç«‹ä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶å…è®¸å…¶é€šè¿‡SSHç™»é™†ã€‚ä¸è¿‡ï¼Œè¿™é‡Œçš„portï¼Œçš„ç¡®æ˜¯æŒ‡rsyncç›‘å¬çš„ç«¯å£ï¼Œè¯·ç¡®ä¿é˜²ç«å¢™æ‰“å¼€äº†è¯¥ç«¯å£ã€‚ OpenShift å®‰è£… hexo-deployer-openshiftã€‚ $ npm install hexo-deployer-openshift --save ä¿®æ”¹é…ç½®ã€‚ deploy: type: openshift repo: &lt;repository url&gt; message: [message] å‚æ•° æè¿° repo OpenShift åº“ï¼ˆRepositoryï¼‰åœ°å€ message è‡ªå®šæäº¤ä¿¡æ¯ (é»˜è®¤ä¸º Site updated: {{ now('YYYY-MM-DD HH:mm:ss') }}) FTPSync å®‰è£… hexo-deployer-ftpsyncã€‚ $ npm install hexo-deployer-ftpsync --save ä¿®æ”¹é…ç½®ã€‚ deploy: type: ftpsync host: &lt;host&gt; user: &lt;user&gt; pass: &lt;password&gt; remote: [remote] port: [port] ignore: [ignore] connections: [connections] verbose: [true|false] å‚æ•° æè¿° é»˜è®¤å€¼ host è¿œç¨‹ä¸»æœºçš„åœ°å€ user ä½¿ç”¨è€…åç§° pass å¯†ç  remote è¿œç¨‹ä¸»æœºçš„æ ¹ç›®å½• / port ç«¯å£ 21 ignore å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½• connections ä½¿ç”¨çš„è¿æ¥æ•° 1 verbose æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ false FTPéƒ¨ç½²å¯èƒ½å‡ºç°çš„é—®é¢˜ æ‚¨å¯èƒ½éœ€è¦é¢„å…ˆé€šè¿‡å…¶ä»–æ–¹å¼å°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹ä¸»æœºä¸­ã€‚å¦åˆ™åˆæ¬¡ä½¿ç”¨ftpsyncæ’ä»¶å°±å¯èƒ½å‡ºç°æŠ¥é”™ã€‚å¦å¤–ï¼Œç”±äºFTPåè®®çš„ç‰¹å¾ï¼Œå®ƒæ¯ä¼ é€ä¸€ä¸ªæ–‡ä»¶å°±éœ€è¦ä¸€æ¬¡æ¡æ‰‹ï¼Œç›¸å¯¹é€Ÿåº¦è¾ƒæ…¢ã€‚ å…¶ä»–æ–¹æ³• Hexo ç”Ÿæˆçš„æ‰€æœ‰æ–‡ä»¶éƒ½æ”¾åœ¨ public æ–‡ä»¶å¤¹ä¸­ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬å¤åˆ¶åˆ°æ‚¨å–œæ¬¢çš„åœ°æ–¹ã€‚ ç»“è¯­æ›´å¤šè¯¦ç»†é…ç½®è¯·ç§»æ­¥æ­¤å¤„ï¼šhttps://hexo.io/zh-cn/docs/","tags":[]}]